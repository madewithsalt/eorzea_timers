{"version":3,"sources":["app/js/App.js","app/js/actions/clockActions.js","app/js/actions/customListActions.js","app/js/actions/nodeActions.js","app/js/actions/nodeListActions.js","app/js/actions/pageActions.js","app/js/actions/searchActions.js","app/js/actions/settingsActions.js","app/js/actions/watchGroupsActions.js","app/js/actions/watchListActions.js","app/js/components/Clock.js","app/js/components/FilterMenu.js","app/js/components/MainNav.js","app/js/components/Modal.js","app/js/components/NodeStars.js","app/js/components/SearchBar.js","app/js/components/SettingsModal.js","app/js/components/TimerModal.js","app/js/components/WatchGroupModal.js","app/js/components/WatchGroupSelect.js","app/js/containers/About.js","app/js/containers/CustomContent.js","app/js/containers/DevTools.js","app/js/containers/Home.js","app/js/containers/WatchList.js","app/js/index.js","app/js/modules/Node.js","app/js/modules/NodeList.js","app/js/modules/NodeListItem.js","app/js/modules/Notifications.js","app/js/modules/WatchListItem.js","app/js/reducers/clockReducer.js","app/js/reducers/customListReducer.js","app/js/reducers/index.js","app/js/reducers/nodeListReducer.js","app/js/reducers/nodeReducer.js","app/js/reducers/pageReducer.js","app/js/reducers/searchReducer.js","app/js/reducers/settingsReducer.js","app/js/reducers/watchGroupsReducer.js","app/js/reducers/watchListReducer.js","app/js/routes.js","app/js/static/filters.js","app/js/static/sounds.js","app/js/utils/parseUtils.js","app/js/utils/searchUtils.js","app/js/utils/storageUtils.js","app/js/utils/timeUtils.js"],"names":["App","props","recieveNodeList","requestNodeList","changeTime","fetch","then","response","json","catch","ex","console","log","interval","setInterval","nextProps","clock","document","title","time","store","Component","mapStateToProps","state","nodelist","mapDispatchToProps","dispatch","e","updateClock","dispatchNotification","closeNotification","updateLastAlarm","INCREMENT_CLOCK","DISPATCH_NOTIFICATION","CLOSE_NOTIFICATION","UPDATE_LAST_ALARM","type","list","hour","getState","watchlist","customlist","settings","lastAlarm","advanceHourNotice","alarm_hour","times","length","nodes","map","id","alertTime","activeNodes","addCustomNode","editCustomNode","removeCustomNode","ADD_CUSTOM_NODE","EDIT_CUSTOM_NODE","REMOVE_CUSTOM_NODE","node","toggleSelect","TOGGLE_SELECT","filterTypeNodeList","filterLevelNodeList","toggleFeatureFilter","REQUEST_NODELIST","RECEIVE_NODELIST","FILTER_TYPE_NODELIST","FILTER_LEVEL_NODELIST","FILTER_FEATURE_TOGGLE_NODELIST","recievedAt","Date","now","filterByType","filterByLevel","feature","toggleModal","TOGGLE_MODAL","search","SEARCH_QUERY","query","updateSetting","UPDATE_SETTING","setting","addItem","removeItem","createGroup","updateGroup","removeGroup","WATCHGROUP_ADD_ITEM","WATCHGROUP_REMOVE_ITEM","CREATE_WATCHGROUP","REMOVE_WATCHGROUP","UPDATE_WATCHGROUP","groupId","nodeId","group","clearAll","replaceList","ADD_WATCHLIST","REMOVE_WATCHLIST","UPDATE_TIMES","CLEAR_ALL","addToList","removeFromList","updateNotifications","timeObj","Object","assign","existsAt","Clock","className","FilterMenu","renderMenuItem","bind","name","value","isActive","object","values","indexOf","handleFilterChange","onChange","filters","keys","key","item","defaultProps","MainNav","nextState","$","menuToggle","sideNav","edge","on","watchCount","customCount","navItems","url","count","toLowerCase","meridiem","toggleSidebar","version","toString","button","renderMenu","sidebar","sidebarNav","Modal","modal","dismissable","complete","onClose","onModalOpen","open","Materialize","updateTextFields","timeout","setTimeout","callback","isValid","onBeforeClose","handleModalClose","buttonName","cancelButton","m","children","onModalClose","Close","Stars","stars","_","isEmpty","isNaN","starNodes","i","SearchBar","evt","target","defaultValue","helpText","onChangeEvent","SettingsModal","onUpdateSetting","select","material_select","val","checked","Notification","permission","requestPermission","alarmSound","alarm_sound","sounds","no_alarm","alarm_style","sel","sound","filename","handleToggleModal","page","NewTimerModal","isNew","timer","time_hour","time_minute","meridien","dur_hours","dur_minutes","handleOpenModal","handleCloseModal","handleTimerSave","setState","location","slot","level","x","y","notes","result","pos","duration","handleChange","form","WatchGroupModal","splice","error","fullList","handleOnSave","handleRemoveNode","WatchGroupSelect","dropdown","constrainWidth","belowOrigin","watchgroups","a","handleDropdown","handleGroupSelect","googleSheetsLink","About","CustomContent","handleRemoveGroup","renderCustomNode","renderWatchGroup","DevTools","s","Home","tabMenu","tabs","icon","content","typeFilter","levelFilter","featureFilter","availableFilters","featureFilters","searchValue","filterValues","itemIcon","featureIcon","onSearchChange","handleAddTimer","WatchList","sortNodes","active","timeUntil","timeRemaining","hours","minutes","flex","persistedState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","enhancer","thunk","reducers","subscribe","Root","Node","NodeList","activePanels","sortedGroups","groups","renderListGroup","sortAndFilterNodes","collapseList","collapsible","collapseReset","collapsed","one_hour","two_hour","the_rest","each","push","sort","b","aDur","bDur","aTime","seconds","bTime","currSearch","nextSearch","union","filter","isArray","levelRange","keep","isUndefined","isString","isNumber","isBoolean","groupListByTime","groupName","index","isOpen","shouldExpand","groupKeys","NodeListItem","earthTimeRemaining","status","selected","mins","Notifications","alarmList","handleNotifications","style","alarmStyle","single","firstNode","options","notification","hasSound","soundFile","renderPopupContent","alarm","WatchListItem","bait","join","action","clone","find","newNode","findIndex","rootReducer","routing","utils","defaultState","isFetching","booleanValues","parseTimes","parsePosition","parseLevel","parseAttrs","parseBooleans","lastUpdated","newFilter","targetGroup","replace","attr","split","parseFloat","opts","fuse","Fuse","threshold","loadState","serializedState","localStorage","getItem","undefined","JSON","parse","err","saveState","stringify","setItem","clearState","getEorzeaTime","eorzeaMultipler","universalTime","unix","setTime","eorzeaTime","moment","utc","format","getEarthDurationfromEorzean","stringDuration","totalMins","totalSeconds","earthUnits","totalEarthSeconds","Math","floor","ceil","diff","getTimeDifference","idx","getTimeObjFromString","timeA","timeB","minute","getTimeRemaining","nodeTime","currTime","endTime","getEndTimeFromDuration","getEarthTimeRemaining","durStr","getDurationStringFromObject","getTimeUntil","getEarthTimeUntil","startUntil","stringTime","isAM","getTimeStringFromObject","getTimeStringFromDuration","stringStartTime","startTime","end","getDurationObjFromString","durationObj","startObj","endObj","currentTime","startTimeDiff","endTimeDiff","startTimeDiffMins","endTimeDiffMins","durationMins"],"mappings":"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","file":"priv/app.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Provider, connect } from 'react-redux';\r\nimport Router from './routes';\r\n\r\nimport Notifications from './modules/Notifications';\r\n\r\nimport { recieveNodeList, requestNodeList } from './actions/nodeListActions';\r\nimport { changeTime } from './actions/clockActions';\r\n\r\nclass App extends Component {\r\n  propTypes: {\r\n    store: PropTypes.object.isRequired\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { recieveNodeList, requestNodeList, changeTime } = this.props;\r\n\r\n    requestNodeList();\r\n\r\n    fetch('/data/nodes.json')\r\n      .then(function(response) {\r\n        return response.json()\r\n      }).then(function(json) {\r\n        recieveNodeList(json);\r\n      }).catch(function(ex) {\r\n        console.log('parsing failed', ex)\r\n      });\r\n\r\n      var interval = setInterval(() => changeTime(), 3000);\r\n  }\r\n\r\n  componentWillUpdate(nextProps) {\r\n    const { clock } = nextProps || this.props;\r\n    document.title = clock.time + ' - Eorzea Timers';\r\n  }\r\n\r\n  render() {\r\n    const { store } = this.props;\r\n\r\n    return (\r\n      <Provider store={store}>\r\n          <div>\r\n            <Router />\r\n            <Notifications />\r\n          </div>\r\n      </Provider>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    clock: state.clock,\r\n    nodelist: state.nodelist\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    recieveNodeList: (json) => dispatch(recieveNodeList(json)),\r\n    requestNodeList: (e) => dispatch(requestNodeList()),\r\n    changeTime: (e) => dispatch(changeTime())\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import { each, filter, find } from 'lodash';\r\n\r\nexport const INCREMENT_CLOCK = 'INCREMENT_CLOCK';\r\nexport const DISPATCH_NOTIFICATION = 'DISPATCH_NOTIFICATION';\r\nexport const CLOSE_NOTIFICATION = 'CLOSE_NOTIFICATION';\r\nexport const UPDATE_LAST_ALARM = 'UPDATE_LAST_ALARM';\r\n\r\nexport function updateClock() {\r\n  return  {\r\n    type: INCREMENT_CLOCK\r\n  }\r\n}\r\n\r\nexport function dispatchNotification(list) {\r\n  return {\r\n    type: DISPATCH_NOTIFICATION,\r\n    list\r\n  }\r\n}\r\n\r\nexport function closeNotification() {\r\n  return {\r\n    type: CLOSE_NOTIFICATION\r\n  }\r\n}\r\n\r\nexport function updateLastAlarm(hour) {\r\n  return {\r\n    type: UPDATE_LAST_ALARM,\r\n    hour\r\n  }\r\n}\r\n\r\nexport function changeTime() {\r\n  return function(dispatch, getState) {\r\n    const {\r\n      watchlist,\r\n      nodelist,\r\n      customlist,\r\n      settings,\r\n      clock\r\n    } = getState();\r\n\r\n    const lastAlarm = clock.lastAlarm,\r\n          advanceHourNotice = settings.alarm_hour || 0;\r\n\r\n    if(watchlist.times.length) {\r\n      const nodes = watchlist.nodes.map((id) => {\r\n              return find([...nodelist.nodes, ...customlist], { id });\r\n            });\r\n\r\n      each(watchlist.times, (time) => {\r\n        const alertTime = time.hour - advanceHourNotice;\r\n\r\n        if(clock.hour === alertTime && clock.lastAlarm !== clock.hour) {\r\n          const activeNodes = filter(nodes, { time: time.time });\r\n\r\n          dispatch(dispatchNotification(activeNodes));\r\n          dispatch(updateLastAlarm(clock.hour));\r\n        }\r\n      });\r\n    }\r\n\r\n    dispatch(updateClock());\r\n  }\r\n}\r\n","export const ADD_CUSTOM_NODE = 'ADD_CUSTOM_NODE';\r\nexport const EDIT_CUSTOM_NODE = 'EDIT_CUSTOM_NODE';\r\nexport const REMOVE_CUSTOM_NODE = 'REMOVE_CUSTOM_NODE';\r\n\r\n\r\nexport function addCustomNode(node) {\r\n  return {\r\n    type: ADD_CUSTOM_NODE,\r\n    node\r\n  }\r\n}\r\n\r\nexport function editCustomNode(node) {\r\n  return {\r\n    type: EDIT_CUSTOM_NODE,\r\n    node\r\n  }\r\n}\r\n\r\nexport function removeCustomNode(id) {\r\n  return {\r\n    type: REMOVE_CUSTOM_NODE,\r\n    id\r\n  }\r\n}\r\n","export const TOGGLE_SELECT = 'TOGGLE_SELECT';\r\n\r\nexport function toggleSelect(id) {\r\n  return {\r\n    type: TOGGLE_SELECT,\r\n    id\r\n  }\r\n}\r\n","\r\nexport const REQUEST_NODELIST = 'REQUEST_NODELIST';\r\nexport const RECEIVE_NODELIST = 'RECEIVE_NODELIST';\r\nexport const FILTER_TYPE_NODELIST = 'FILTER_TYPE_NODELIST';\r\nexport const FILTER_LEVEL_NODELIST = 'FILTER_LEVEL_NODELIST';\r\nexport const FILTER_FEATURE_TOGGLE_NODELIST = 'FILTER_FEATURE_TOGGLE_NODELIST';\r\n\r\nexport function requestNodeList(nodes) {\r\n  return {\r\n    type: REQUEST_NODELIST,\r\n    nodes\r\n  }\r\n}\r\n\r\nexport function recieveNodeList(nodes) {\r\n  return {\r\n    type: RECEIVE_NODELIST,\r\n    nodes,\r\n    recievedAt: Date.now()\r\n  }\r\n}\r\n\r\nexport function filterTypeNodeList(filterByType) {\r\n  return {\r\n    type: FILTER_TYPE_NODELIST,\r\n    filterByType\r\n  }\r\n}\r\n\r\nexport function filterLevelNodeList(filterByLevel) {\r\n  return {\r\n    type: FILTER_LEVEL_NODELIST,\r\n    filterByLevel\r\n  }\r\n}\r\n\r\nexport function toggleFeatureFilter(feature) {\r\n  return {\r\n    type: FILTER_FEATURE_TOGGLE_NODELIST,\r\n    feature\r\n  }\r\n}\r\n","export const TOGGLE_MODAL = 'TOGGLE_MODAL';\r\n\r\nexport function toggleModal() {\r\n  return {\r\n    type: TOGGLE_MODAL\r\n  }\r\n}\r\n","export const SEARCH_QUERY = 'SEARCH_QUERY';\r\n\r\nexport function search(query) {\r\n  return {\r\n    type: SEARCH_QUERY,\r\n    query\r\n  }\r\n}\r\n","export const UPDATE_SETTING = 'UPDATE_SETTING';\r\n\r\nexport function updateSetting(setting) {\r\n  return {\r\n    type: UPDATE_SETTING,\r\n    setting\r\n  }\r\n}\r\n","export const WATCHGROUP_ADD_ITEM = 'WATCHGROUP_ADD_ITEM';\r\nexport const WATCHGROUP_REMOVE_ITEM = 'WATCHGROUP_REMOVE_ITEM';\r\nexport const CREATE_WATCHGROUP = 'CREATE_WATCHGROUP';\r\nexport const REMOVE_WATCHGROUP = 'REMOVE_WATCHGROUP';\r\nexport const UPDATE_WATCHGROUP = 'UPDATE_WATCHGROUP';\r\n\r\nexport function addItem(groupId, nodeId) {\r\n  return {\r\n    type: WATCHGROUP_ADD_ITEM,\r\n    groupId,\r\n    nodeId\r\n  }\r\n}\r\n\r\nexport function removeItem(groupId, nodeId) {\r\n  return {\r\n    type: WATCHGROUP_REMOVE_ITEM,\r\n    groupId,\r\n    nodeId\r\n  }\r\n}\r\n\r\nexport function createGroup(group) {\r\n  return {\r\n    type: CREATE_WATCHGROUP,\r\n    group\r\n  }\r\n}\r\n\r\nexport function updateGroup(group) {\r\n  return {\r\n    type: UPDATE_WATCHGROUP,\r\n    group\r\n  }\r\n}\r\n\r\nexport function removeGroup(id) {\r\n  return {\r\n    type: REMOVE_WATCHGROUP,\r\n    id\r\n  }\r\n}\r\n","import { indexOf, find, each } from 'lodash';\r\nimport {\r\n  getTimeObjFromString\r\n} from '../utils/timeUtils';\r\n\r\nexport const ADD_WATCHLIST = 'ADD_WATCHLIST';\r\nexport const REMOVE_WATCHLIST = 'REMOVE_WATCHLIST';\r\nexport const UPDATE_TIMES = 'UPDATE_TIMES';\r\nexport const CLEAR_ALL = 'CLEAR_ALL';\r\n\r\nfunction addToList(id) {\r\n  return {\r\n    type: ADD_WATCHLIST,\r\n    id\r\n  }\r\n}\r\n\r\nfunction removeFromList(id) {\r\n  return {\r\n    type: REMOVE_WATCHLIST,\r\n    id\r\n  }\r\n}\r\n\r\nfunction updateNotifications() {\r\n\r\n  return function(dispatch, getState) {\r\n    const {\r\n      watchlist,\r\n      nodelist,\r\n      customlist\r\n    } = getState();\r\n\r\n    const times = watchlist.nodes.map((id) => {\r\n      const node = find([...nodelist.nodes, ...customlist], {id});\r\n      const timeObj = getTimeObjFromString(node.time);\r\n\r\n      return Object.assign({}, timeObj, { time: node.time });\r\n    });\r\n\r\n    dispatch({\r\n      type: UPDATE_TIMES,\r\n      times\r\n    });\r\n  }\r\n}\r\n\r\n\r\nexport function toggleSelect(id) {\r\n\r\n  return function(dispatch, getState) {\r\n    const { watchlist } = getState(),\r\n          existsAt = indexOf(watchlist.nodes, id);\r\n\r\n    if(existsAt >= 0) {\r\n      dispatch(removeFromList(id))\r\n    } else {\r\n      dispatch(addToList(id))\r\n    }\r\n\r\n    dispatch(updateNotifications());\r\n  }\r\n}\r\n\r\nexport function clearAll() {\r\n  return {\r\n    type: CLEAR_ALL\r\n  }\r\n}\r\n\r\nexport function replaceList(list) {\r\n  return function(dispatch) {\r\n    dispatch(clearAll());\r\n\r\n    each(list, (id) => {\r\n      dispatch(toggleSelect(id))\r\n    });\r\n  }\r\n}\r\n","import React, { PropTypes } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst Clock = (props) => (\r\n    <span className={ props.className }>\r\n      { props.clock.time }\r\n    </span>\r\n  );\r\n\r\nconst mapStateToProps = state => {\r\n  return { clock: state.clock };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Clock);\r\n","import React, {Component} from 'react';\nimport { isArray, isObject } from 'lodash';\n\n\nclass FilterMenu extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.renderMenuItem = this.renderMenuItem.bind(this);\n  }\n\n  renderMenuItem(name, value) {\n    let isActive = false;\n    const object = isObject(value);\n    const { values } = this.props;\n\n    // if a filter is selected ...\n    if(values[name]) {\n      if(isArray(values[name])) {\n        if(object) {\n          if(isArray(value.value)) {\n            isActive = values[name] === value.value;\n          } else {\n            isActive = values[name].indexOf(value.value) >= 0;\n          }\n        } else {\n          isActive = values[name].indexOf(value) >= 0;\n        }\n      } else {\n        if(object) {\n          isActive = values[name] && values[name] === value.value;\n        } else {\n          isActive = values[name] && values[name] === value;\n        }\n      }\n    }\n\n    return (\n      <li className=\"filter-menu-item\" key={`filter-${name}-${object ? value.value : value}`}>\n        <a onClick={this.handleFilterChange.bind(this, name, object ? value.value : value)}\n            className={`menu-item ${isActive ? 'active' : ''}`}>\n          <span className={`icon icon-${object ? value.value : value}`}></span>\n          <span className=\"name\">{ object ? value.name : value }</span>\n        </a>\n      </li>\n    );\n  }\n\n  handleFilterChange(name, value) {\n    this.props.onChange(name, value);\n  }\n\n  render() {\n    const { filters, className } = this.props;\n    const {\n      renderMenuItem\n    } = this;\n    const keys = Object.keys(filters);\n\n    return (\n      <div className={`filter-menu ${className}`}>\n        { keys.map((key) => {\n          return (\n            <div className={`filter-menu-group group-${key}`} key={key}>\n              <span className=\"menu-label\">{filters[key].name}:</span>\n              <ul className=\"filter-menu-list\">\n                { filters[key].values.map((item) => {\n                  return renderMenuItem(key, item);\n                }) }\n              </ul>\n            </div>\n          )\n        }) }\n      </div>\n    );\n  }\n}\n\nFilterMenu.defaultProps = {\n  onChange: () => {}\n}\n\nexport default FilterMenu;\n","import React, {Component} from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport Clock from './Clock';\r\nimport {omit} from 'lodash';\r\n\r\n\r\nclass MainNav extends Component {\r\n  componentDidMount(nextProps, nextState) {\r\n    $(this.menuToggle).sideNav({\r\n      edge: 'right'\r\n    });\r\n\r\n    $('#sidebar a').on('click', () => {\r\n      $(this.menuToggle).sideNav('hide');\r\n    })\r\n  }\r\n\r\n  renderMenu(className, id) {\r\n    const {\r\n      watchCount,\r\n      customCount,\r\n      clock\r\n    } = this.props;\r\n\r\n    const navItems = [\r\n      { url: '/watch', name: 'Watch List', count: watchCount },\r\n      {\r\n        url: '/custom',\r\n        name: 'My Timers',\r\n        count: customCount\r\n      },\r\n      {\r\n        url: '/about',\r\n        name: 'About'\r\n      }\r\n\r\n    ];\r\n\r\n    return (\r\n      <ul className={className || ''} id={ id || null }>\r\n        <li className='nav-item'>\r\n          <NavLink exact to=\"/\" activeClassName=\"active\">Home</NavLink>\r\n        </li>\r\n        { navItems.map(item => {\r\n          return (\r\n            <li key={item.name.toLowerCase()} className=\"nav-item\">\r\n              <NavLink to={item.url} activeClassName=\"active\">\r\n                <span>{ item.name }</span>\r\n                { item.count ? (\r\n                  <span className=\"label\">{item.count}</span>\r\n                ): null }\r\n              </NavLink>\r\n            </li>\r\n          )\r\n        })}\r\n        { id ? (\r\n          <li className={`nav-clock nav-item ${clock.meridiem.toLowerCase()}`}>\r\n            <Clock className=\"inline-block\"/>\r\n          </li>\r\n        ) : null }\r\n      </ul>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {\r\n            toggleSidebar\r\n          } = this,\r\n          {\r\n            clock\r\n          } = this.props;\r\n\r\n    return (\r\n      <nav className=\"primary-nav\">\r\n        <div className=\"nav-wrapper\">\r\n          <div className=\"brand-logo website-title\">\r\n            <span>Eorzea Timers</span>&nbsp;\r\n            <span className=\"version\">{this.props.version.toString()}</span>\r\n          </div>\r\n          <div className={`right nav-clock ${clock.meridiem.toLowerCase()}`}>\r\n            <Clock className=\"inline-block\"/>\r\n          </div>\r\n          <a href=\"#\" ref={(button) => { this.menuToggle = button; }}\r\n            data-activates=\"sidebar\"\r\n            className=\"button-collapse right\">\r\n              <i className=\"material-icons\">menu</i>\r\n          </a>\r\n          <div>{ this.renderMenu(\"nav navbar-nav right hide-on-med-and-down\") }</div>\r\n          <div ref={(sidebar) => { this.sidebarNav = sidebar; }}>\r\n            { this.renderMenu(\"side-nav\", \"sidebar\") }\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    )\r\n  }\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    clock: state.clock,\r\n    watchCount: state.watchlist.nodes.length,\r\n    customCount: state.customlist.length,\r\n    version: state.version\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(MainNav);\r\n","import React, { Component } from 'react';\r\n\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    $(this.modal).modal({\r\n      dismissable: true,\r\n      complete: this.props.onClose\r\n    });\r\n\r\n    this.onModalOpen(this.props);\r\n  }\r\n\r\n  onModalOpen(nextProps) {\r\n    if(nextProps.open === true) {\r\n      $(this.modal).modal('open');\r\n      Materialize.updateTextFields();\r\n    }\r\n\r\n    if(nextProps.timeout) {\r\n      setTimeout(() => {\r\n        $(this.modal).modal('close');\r\n        nextProps.timeout.callback();\r\n      }, nextProps.timeout.time || 5000);\r\n    }\r\n  }\r\n\r\n  onModalClose() {\r\n    const isValid = this.props.onBeforeClose();\r\n    if(isValid) {\r\n      this.handleModalClose();\r\n    }\r\n  }\r\n\r\n  handleModalClose() {\r\n    $(this.modal).modal('close');\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      buttonName,\r\n      cancelButton\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className={`modal ${className || ''}`} ref={(m) => { this.modal = m}}>\r\n        {this.props.children}\r\n        <div className=\"modal-footer right-align\">\r\n          <a onClick={this.onModalClose.bind(this)} className=\"btn btn-primary\">{ buttonName || Close }</a>\r\n          { cancelButton ? (\r\n            <a onClick={this.handleModalClose.bind(this)} className=\"btn btn-flat\">Cancel</a>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nModal.defaultProps = {\r\n  onClose: () => {},\r\n  onBeforeClose: () => { return true; }\r\n}\r\n\r\nexport default Modal\r\n","import React from 'react';\r\nimport _ from 'lodash';\r\n\r\nconst Stars = (props) => {\r\n    const { stars } = props;\r\n\r\n    if(!stars || _.isEmpty(stars) || _.isNaN(stars)) {\r\n      return (<span></span>);\r\n    }\r\n\r\n    let starNodes = _.times(stars, function(i) {\r\n      return (<i className=\"material-icons\" key={i}>star</i>);\r\n    });\r\n\r\n    return (\r\n      <span className=\"stars\">\r\n        { starNodes }\r\n      </span>\r\n    )\r\n}\r\n\r\nexport default Stars\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass SearchBar extends Component {\r\n  propTypes: {\r\n    onChange: PropTypes.func.isRequired\r\n  }\r\n\r\n  onChangeEvent(onChange, evt) {\r\n    onChange(evt, evt.target.value);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      onChange,\r\n      defaultValue,\r\n      helpText\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"search-bar\">\r\n        <div className=\"input-field\">\r\n          <input type=\"text\" id=\"search\" defaultValue={defaultValue}\r\n            onChange={this.onChangeEvent.bind(this, onChange)} />\r\n          <label htmlFor=\"search\">\r\n            <i className=\"material-icons\">search</i>\r\n            Search\r\n          </label>\r\n        </div>\r\n        { helpText ? (\r\n          <p className=\"help-text\">{ helpText }</p>\r\n        ) : null }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React, {Component} from 'react';\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport { connect } from 'react-redux';\r\nimport { find } from 'lodash';\r\n\r\nimport {\r\n  toggleModal\r\n} from '../actions/pageActions';\r\nimport {\r\n  updateSetting\r\n} from '../actions/settingsActions';\r\nimport sounds from '../static/sounds';\r\n\r\nclass SettingsModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onUpdateSetting = this.onUpdateSetting.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    $(this.modal).modal({\r\n      dismissable: true,\r\n      complete: this.onModalClose.bind(this)\r\n    });\r\n\r\n    $(this.select).on('change', (evt) => {\r\n      this.onUpdateSetting('alarm_sound', evt);\r\n    }).material_select();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if(nextProps.modal === true) {\r\n      $(this.modal).modal('open');\r\n    }\r\n  }\r\n\r\n  handleToggleModal() {\r\n    $(this.modal).modal('close');\r\n  }\r\n\r\n  onModalClose() {\r\n    this.props.toggleModal();\r\n  }\r\n\r\n  onUpdateSetting(name, evt) {\r\n    let setting = {};\r\n    const val = evt.target.value;\r\n\r\n    switch (name) {\r\n      case 'alarm_hour':\r\n      case 'alarm_style':\r\n      case 'alarm_sound':\r\n        setting[name] = val;\r\n        break;\r\n      case 'no_alarm':\r\n        setting[name] = evt.target.checked;\r\n        break;\r\n      default:\r\n    }\r\n\r\n    if(name === 'alarm_style' && val === 'desktop' && Notification && Notification.permission !== 'granted') {\r\n      Notification.requestPermission();\r\n    }\r\n\r\n    this.props.updateSetting(setting)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      modal,\r\n      toggleModal,\r\n      className,\r\n      settings\r\n    } = this.props;\r\n    const {\r\n      onUpdateSetting\r\n    } = this;\r\n\r\n    let alarmSound;\r\n    if(settings.alarm_sound && settings.alarm_sound !== 'none') {\r\n      alarmSound = find(sounds, { name: settings.alarm_sound });\r\n    }\r\n\r\n\r\n    return (\r\n      <div className={`settings-modal-container ${className}`}>\r\n        <a onClick={toggleModal} className=\"toggle-btn btn btn-small btn-secondary\">\r\n          <i className=\"material-icons\">settings</i>\r\n          settings\r\n        </a>\r\n        <div className=\"modal modal-fixed-footer settings-modal\" ref={(modal) => { this.modal = modal; }}>\r\n          <div className=\"modal-content\">\r\n            <h3>Watch Settings</h3>\r\n            <div className=\"row settings-group\">\r\n              <div className=\"col s12\">\r\n                <h4>Notification Time</h4>\r\n              </div>\r\n              <div className=\"col s8\">\r\n                <span>Eorzean Hours Notice: </span>\r\n                <div className=\"input-field inline\">\r\n                  <input type=\"number\" id=\"alarm_hour\"\r\n                    disabled={settings.no_alarm ? true : false}\r\n                    defaultValue={settings.alarm_hour || 0}\r\n                    onChange={ (evt) => { onUpdateSetting('alarm_hour', evt) } } />\r\n                  <label htmlFor=\"alarm_hour\">Hours Notice</label>\r\n                </div>\r\n              </div>\r\n              <div className=\"input-field col s3\">\r\n                <input id=\"no_alarm\" type=\"checkbox\" value=\"no_alarm\"\r\n                  defaultChecked={settings.no_alarm || false }\r\n                  onChange={ (evt) => { onUpdateSetting('no_alarm', evt) } } />\r\n                <label htmlFor=\"no_alarm\">None (disable)</label>\r\n              </div>\r\n            </div>\r\n            <div className=\"row settings-group\">\r\n              <div className=\"col s12\">\r\n                <h4>Notice Style</h4>\r\n              </div>\r\n              <div className=\"input-radio-group clearfix\">\r\n                <div className=\"input-field col s4\">\r\n                  <input type=\"radio\" name=\"alarm_style\" id=\"alarm_style_1\" value=\"none\"\r\n                    defaultChecked={settings.alarm_style === 'none'}\r\n                    onChange={ (evt) => { onUpdateSetting('alarm_style', evt) } } />\r\n                  <label htmlFor=\"alarm_style_1\">None</label>\r\n                </div>\r\n                <div className=\"input-field col s4\">\r\n                  <input type=\"radio\" name=\"alarm_style\" id=\"alarm_style_2\" value=\"popup\"\r\n                    defaultChecked={settings.alarm_style === 'popup'}\r\n                    onChange={ (evt) => { onUpdateSetting('alarm_style', evt) } } />\r\n                  <label htmlFor=\"alarm_style_2\">In-Window Pop Up</label>\r\n                </div>\r\n                <div className=\"input-field col s4\">\r\n                  <input type=\"radio\" name=\"alarm_style\" id=\"alarm_style_3\" value=\"desktop\"\r\n                    defaultChecked={settings.alarm_style === 'desktop'}\r\n                    onChange={ (evt) => { onUpdateSetting('alarm_style', evt) } } />\r\n                  <label htmlFor=\"alarm_style_3\">Desktop Notification <br/>(needs permission)</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row settings-group\">\r\n              <div className=\"col s12\">\r\n                <h4>Alert Sound</h4>\r\n              </div>\r\n              <div className=\"input-field col s4\">\r\n                <select name=\"alarm_sound\" id=\"alarm_sound\" ref={(sel) => {this.select = sel; }}\r\n                  defaultValue={settings.alarm_sound || 'none'}>\r\n                  <option value=\"none\" disabled>No Sound</option>\r\n                  {sounds.map((sound) => {\r\n                    return (\r\n                      <option value={sound.name} key={sound.name}>{sound.name}</option>\r\n                    )\r\n                  })}\r\n                </select>\r\n                <label htmlFor=\"alarm_sound\">Sound Effect</label>\r\n              </div>\r\n              <div className=\"col s4\">\r\n                <div className=\"sound-preview\">\r\n                  { alarmSound ? (\r\n                    <ReactAudioPlayer src={`/sound/${alarmSound.filename}`} controls />\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <div className=\"right-align\">\r\n              <a onClick={this.handleToggleModal.bind(this)} className=\"btn btn-default\">Done</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    modal: state.page.modal,\r\n    settings: state.settings\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    toggleModal: () => dispatch(toggleModal()),\r\n    updateSetting: (setting) => dispatch(updateSetting(setting))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsModal);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {\r\n  toggleModal\r\n} from '../actions/pageActions';\r\nimport {\r\n  addCustomNode,\r\n  editCustomNode\r\n} from '../actions/customListActions';\r\n\r\n\r\nclass NewTimerModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = Object.assign({}, {\r\n      isNew: props.timer ? false : true,\r\n      name: 'My Custom Timer',\r\n      time_hour: '12',\r\n      time_minute: '00',\r\n      meridien: 'AM',\r\n      dur_hours: '0',\r\n      dur_minutes: '55'\r\n    }, props.timer || {});\r\n\r\n    this.handleOpenModal = this.handleOpenModal.bind(this);\r\n    this.handleCloseModal = this.handleCloseModal.bind(this);\r\n    this.handleTimerSave = this.handleTimerSave.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    $(this.modal).modal({\r\n      dismissable: false\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if(nextProps.open === true) {\r\n      $(this.modal).modal('open');\r\n    }\r\n  }\r\n\r\n  handleOpenModal() {\r\n    $(this.modal).modal('open');\r\n  }\r\n\r\n  handleCloseModal() {\r\n    $(this.modal).modal('close');\r\n  }\r\n\r\n  handleChange(name, evt) {\r\n    let setting = {};\r\n    const val = evt.target.value;\r\n\r\n    setting[name] = val;\r\n\r\n    this.setState(setting);\r\n  }\r\n\r\n  handleTimerSave(evt) {\r\n    const {\r\n      isNew,\r\n      name,\r\n      location,\r\n      slot,\r\n      level,\r\n      x, y,\r\n      time_hour,\r\n      time_minute,\r\n      meridien,\r\n      dur_hours,\r\n      dur_minutes,\r\n      notes\r\n    } = this.state;\r\n\r\n    let result = Object.assign({}, {\r\n        name,\r\n        location,\r\n        slot,\r\n        x, y,\r\n        time_hour,\r\n        time_minute,\r\n        meridien,\r\n        dur_hours,\r\n        dur_minutes,\r\n        notes\r\n      }, {\r\n        type: 'custom',\r\n        level: level || 70,\r\n        pos: x && y ? `x${x} y${y}` : null,\r\n        time: `${time_hour || 12}:${time_minute || '00'} ${meridien || 'AM'}`,\r\n        duration: `${dur_hours || 0}:${dur_minutes || 55}`,\r\n      });\r\n\r\n    if(isNew) {\r\n      this.props.addCustomNode(result);\r\n    } else {\r\n      this.props.editCustomNode(result);\r\n    }\r\n    this.handleCloseModal();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className\r\n    } = this.props;\r\n    const {\r\n      handleChange,\r\n      handleTimerSave,\r\n      handleOpenModal,\r\n      handleCloseModal\r\n    } = this;\r\n\r\n    const { isNew } = this.state;\r\n\r\n    return (\r\n      <div className={`timer-edit-container ${className || 'right-align'}`}>\r\n        { !isNew ? (\r\n            <a className=\"edit-btn\" onClick={handleOpenModal}><i className=\"material-icons\">edit</i></a>\r\n          ) : (\r\n            <a className=\"btn btn-default add-timer-btn\" onClick={handleOpenModal}>\r\n              <i className=\"material-icons\">add</i>{ !isNew ? 'Edit' : 'New' } Timer</a>\r\n        )}\r\n        <div className=\"modal modal-fixed-footer new-timer-modal left-align\" ref={(modal) => { this.modal = modal; }}>\r\n          <div className=\"modal-content\">\r\n            <form ref={(form) => { this.form = form; }}>\r\n              <h3>New Timer</h3>\r\n              <div className=\"row\">\r\n                <div className=\"input-field col s12\">\r\n                  <input type=\"text\" name=\"name\" defaultValue={ this.state.name }\r\n                    onChange={ handleChange.bind(this, 'name') } />\r\n                  <label htmlFor=\"name\">Name</label>\r\n                </div>\r\n                <div className=\"input-field col s12\">\r\n                  <input type=\"text\" name=\"location\" onChange={ handleChange.bind(this, 'location') }\r\n                    defaultValue={ this.state.location } />\r\n                  <label htmlFor=\"location\">Location</label>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col s12\">\r\n                  <h5>Level, Slot, Position</h5>\r\n                </div>\r\n                <div className=\"input-field col s2\">\r\n                  <input type=\"number\" name=\"level\"\r\n                    defaultValue={this.state.level}\r\n                    onChange={ handleChange.bind(this, 'level') }/>\r\n                  <label htmlFor=\"level\">Level</label>\r\n                </div>\r\n                <div className=\"input-field col s2\">\r\n                  <input type=\"text\" name=\"slot\" defaultValue={this.state.slot}\r\n                    onChange={ handleChange.bind(this, 'slot') }/>\r\n                  <label htmlFor=\"slot\">Slot</label>\r\n                </div>\r\n                <div className=\"col s6 position-fields\">\r\n                  <span className=\"\">Position: </span>\r\n                  <div className=\"input-field inline\">\r\n                    <input type=\"number\" name=\"x\"\r\n                      defaultValue={this.state.x}\r\n                      onChange={ handleChange.bind(this, 'x') } />\r\n                    <label htmlFor=\"x\">x</label>\r\n                  </div>\r\n                  <div className=\"input-field inline\">\r\n                    <input type=\"number\" name=\"y\"\r\n                      defaultValue={this.state.y}\r\n                      onChange={ handleChange.bind(this, 'y') } />\r\n                    <label htmlFor=\"y\">y</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col s12\">\r\n                  <h5>Time</h5>\r\n                </div>\r\n                <div className=\"input-field col s3\">\r\n                  <input type=\"number\" name=\"time_hour\" defaultValue={this.state.time_hour}\r\n                    onChange={ handleChange.bind(this, 'time_hour') }/>\r\n                  <label htmlFor=\"time_hour\">hour</label>\r\n                </div>\r\n                <div className=\"input-field col s3\">\r\n                  <input type=\"number\" name=\"time_minute\" defaultValue={this.state.time_minute}\r\n                    onChange={ handleChange.bind(this, 'time_minute') } />\r\n                  <label htmlFor=\"time_minute\">minute</label>\r\n                </div>\r\n                <div className=\"input-field col s3\">\r\n                  <select name=\"meridien\" id=\"\" className=\"browser-default\"\r\n                    defaultValue={this.state.meridien}\r\n                    onChange={ handleChange.bind(this, 'meridien') }>\r\n                    <option value=\"am\">AM</option>\r\n                    <option value=\"pm\">PM</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col s12\">\r\n                  <h5>Duration</h5>\r\n                </div>\r\n                <div className=\"input-field col s3\">\r\n                  <input type=\"number\" name=\"dur_hours\" defaultValue={this.state.dur_hours}\r\n                    onChange={ handleChange.bind(this, 'dur_hours') }/>\r\n                  <label htmlFor=\"dur_hours\">Hours</label>\r\n                </div>\r\n                <div className=\"input-field col s3\">\r\n                  <input type=\"number\" name=\"dur_minutes\" defaultValue={this.state.dur_minutes}\r\n                    onChange={ handleChange.bind(this, 'dur_minutes') }/>\r\n                  <label htmlFor=\"dur_minutes\">Minutes</label>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col s12 input-field\">\r\n                  <h5>Notes</h5>\r\n                  <textarea className=\"materialize-textarea\" name=\"notes\" defaultValue={this.state.notes}\r\n                    id=\"\" cols=\"30\" rows=\"10\" onChange={ handleChange.bind(this, 'notes') } />\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <div className=\"right-align\">\r\n              <a onClick={handleTimerSave} className=\"btn btn-default\">Save</a>\r\n              <a onClick={handleCloseModal} className=\"btn btn-flat\">Cancel</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addCustomNode: (node) => dispatch(addCustomNode(node)),\r\n    editCustomNode: (node) => dispatch(editCustomNode(node))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NewTimerModal);\r\n","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { find, union, indexOf, isEmpty } from 'lodash';\r\n\r\nimport Modal from './Modal';\r\nimport {\r\n  createGroup,\r\n  updateGroup\r\n} from '../actions/watchGroupsActions';\r\n\r\nclass WatchGroupModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      open: false,\r\n      isNew: props.group ? false : true,\r\n      nodes: props.group ? [...props.group.nodes] : [...props.watchlist],\r\n      name: props.group ? props.group.name : null,\r\n      id: props.group ? props.group.id : null\r\n    }\r\n  }\r\n\r\n  handleOpenModal() {\r\n    this.setState({ open: true });\r\n  }\r\n\r\n  handleCloseModal() {\r\n    this.setState({ open: false });\r\n  }\r\n\r\n  handleChange(name, evt) {\r\n    let setting = {};\r\n    const val = evt.target.value;\r\n\r\n    setting[name] = val;\r\n\r\n    this.setState(setting);\r\n  }\r\n\r\n  handleRemoveNode(id) {\r\n    let list = [...this.state.nodes];\r\n    const existsAt = indexOf(list, id);\r\n\r\n    list.splice(existsAt, 1);\r\n\r\n    this.setState({ nodes: list });\r\n  }\r\n\r\n  handleOnSave() {\r\n    const {\r\n      name,\r\n      nodes,\r\n      id,\r\n      isNew\r\n    } = this.state;\r\n\r\n    if(!nodes.length || isEmpty(name)) {\r\n      return this.setState({error: 'You must have at least 1 node, and a name to save.'});\r\n    }\r\n\r\n    if(isNew) {\r\n      this.props.createGroup({name, nodes});\r\n    } else {\r\n      this.props.updateGroup({name, nodes, id});\r\n    }\r\n    this.setState({ error: false, open: false });\r\n\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      nodelist,\r\n      customlist,\r\n      watchlist\r\n    } = this.props;\r\n    const {\r\n      open,\r\n      nodes,\r\n      isNew,\r\n      error\r\n    } = this.state;\r\n\r\n    const fullList = union(nodelist, customlist);\r\n\r\n    return (\r\n      <div className={`${className || ''}`}>\r\n        {!isNew ? (\r\n            <a className=\"edit-btn\" onClick={this.handleOpenModal.bind(this)}><i className=\"material-icons\">edit</i></a>\r\n          ) : (\r\n            <a onClick={this.handleOpenModal.bind(this)} className=\"btn btn-flat\">Save List As ...</a>\r\n        )}\r\n        { open ? (\r\n          <Modal open={open} buttonName=\"Save\" className=\"modal-fixed-footer\"\r\n            onClose={this.handleCloseModal.bind(this)}\r\n            onBeforeClose={this.handleOnSave.bind(this)} cancelButton>\r\n            <div className=\"watch-group-create-container modal-content\">\r\n              { error ? (\r\n                <p className=\"error-message\">{error}</p>\r\n              ): null}\r\n              <div className=\"input-field\">\r\n                <input type=\"text\" name=\"name\" defaultValue={this.state.name}\r\n                  onChange={this.handleChange.bind(this, 'name')}/>\r\n                <label htmlFor=\"name\">List Group Name:</label>\r\n              </div>\r\n              <h4>Timers:</h4>\r\n              <div className=\"watch-items\">\r\n                {nodes.map((id) => {\r\n                  const node = find(fullList, {id});\r\n                  return node ? (\r\n                    <div className=\"node-item clearfix\" key={node.id}>\r\n                      <div className=\"left\">{node.name} {node.time}</div>\r\n                      <div className=\"right\">\r\n                        <a className=\"delete-btn\" onClick={this.handleRemoveNode.bind(this, node.id)}>\r\n                          <i className=\"material-icons\">close</i>\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                  ) : null;\r\n                })}\r\n              </div>\r\n            </div>\r\n          </Modal>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    watchlist: state.watchlist.nodes,\r\n    customlist: state.customlist,\r\n    nodelist: state.nodelist.nodes\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    createGroup: (group) => dispatch(createGroup(group)),\r\n    updateGroup: (group) => dispatch(updateGroup(group))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WatchGroupModal);\r\n","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { isObject } from 'lodash';\r\n\r\nimport {\r\n  replaceList\r\n} from '../actions/watchListActions';\r\n\r\nclass WatchGroupSelect extends Component {\r\n  componentDidMount() {\r\n    $(this.dropdown).dropdown({\r\n      constrainWidth: false,\r\n      belowOrigin: true\r\n    });\r\n  }\r\n\r\n  handleDropdown() {\r\n    $(this.dropdown).dropdown('open');\r\n  }\r\n\r\n  handleGroupSelect(list) {\r\n    this.props.replaceList(list);\r\n\r\n    $(this.dropdown).dropdown('close');\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      watchgroups,\r\n      className\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className={`${className || ''} watchgroup-select-container`}>\r\n        <a className=\"btn btn-flat\" ref={(a) => {this.dropdown = a;}}\r\n          onClick={this.handleDropdown.bind(this)}\r\n          data-activates=\"load-list\">Load List</a>\r\n        <ul name=\"load-list\" id=\"load-list\" className=\"dropdown-content\">\r\n          {watchgroups.map((group) => {\r\n            return (\r\n              <li key={group.id}><a onClick={this.handleGroupSelect.bind(this, group.nodes)}>{group.name}</a></li>\r\n            )\r\n          })}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    watchgroups: state.watchgroups\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    replaceList: (list) => dispatch(replaceList(list))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WatchGroupSelect);\r\n","import React from 'react'\r\nimport {connect} from 'react-redux';\r\n\r\nconst googleSheetsLink = \"https://docs.google.com/spreadsheets/d/1pqaKo0TM2rJghWWXqOQIqCueJvFV2dPuZUQnNrsRmt8/edit?usp=sharing\";\r\n\r\nconst About = (props) => (\r\n    <div className=\"about-page\">\r\n      <div className=\"col-md-12\">\r\n        <h2>Eorzea Timers - An Open Source Project.</h2>\r\n        <h3 className=\"bordered-header\">Version: {props.version}\r\n          <span className=\"small\">(<a target=\"_blank\" href=\"https://github.com/tnbKristi/eorzea_timers/releases\">release notes</a>)</span>\r\n        </h3>\r\n\r\n        <p>Please report bugs and data errors at the Github repository\r\n          <a target=\"_blank\" href=\"https://github.com/tnbKristi/eorzea_timers\"> here</a>, or contribute to the code via pull request.\r\n          <br/>\r\n          Keep in mind I am a real human with a job, and disrespectful comments &amp; angry demands will be ignored.</p>\r\n\r\n        <p>Thanks for your kind support and appreciation for this project.</p>\r\n\r\n        <h2>Contribution and Corrections of Data</h2>\r\n        <p>Data used in this app is now managed via a public Google Spreadsheet.</p>\r\n        <p>\r\n          <a href={googleSheetsLink} target=\"_blank\">You can view and request additons and corrections here</a>\r\n        </p>\r\n\r\n        <h3 className=\"bordered-header\">App Features</h3>\r\n        <ul className=\"browser-default\">\r\n          <li>Uses LocalStorage to save your preferences and watch lists.</li>\r\n          <li>Add your own custom timers! Saved via LocalStorage until you remove them.</li>\r\n          <li>Slots, and x/y coordinates included with all known unspoiled node locations.</li>\r\n          <li>Incredibly easy to update and contribute!\r\n            <a target=\"_blank\" href=\"https://github.com/tnbKristi/eorzea_timers\"> Learn more here.</a>\r\n          </li>\r\n        </ul>\r\n\r\n        <h3 className=\"bordered-header\">New for 2.0+!</h3>\r\n        <ul className=\"browser-default\">\r\n          <li>Completely re-written for speed and stability.</li>\r\n          <li>\r\n            Create and Manage <b>Watch Lists</b> - collections of your most commonly watched sets of nodes.</li>\r\n          <li>More data provided for each node.</li>\r\n          <li>Ready to update for 4.0's level 70 nodes!</li>\r\n        </ul>\r\n\r\n        <h3 className=\"bordered-header\">F.A.Q</h3>\r\n\r\n        <h4>The time seems off by ~3 Eorzean minutes. What's up with that?</h4>\r\n        <p>Eorzean time is calculated from Epoch time -- one hour is 2 minutes, 55 seconds Earth time. Because of this, sometimes the math that rounds the time up or down can be off by about 30 seconds.</p>\r\n        <p>\r\n          If your time is off by much more than 3 minutes, your computer/phone's time may be off.\r\n          Check out <a href=\"http://time.is/\" target=\"_blank\"> http://time.is/ </a>\r\n          to see if it's a time sync issue.</p>\r\n\r\n        <h4>There's a bunch of other timers out there. Why make another one?</h4>\r\n        <p>A few reasons, actually!</p>\r\n        <ul className=\"browser-default\">\r\n          <li>I'm a web developer + huge gathering crazie. I wanted to build something that was exactly what I wanted as I spend a LOT of time gathering and staring at this timer screen. :)</li>\r\n          <li>There isn't an open-source project for timers. I'd rather share my work and hope others help make it better.</li>\r\n          <li>I frankly didn't like the look/feel or features of what exists currently!</li>\r\n        </ul>\r\n        <p>\r\n          I think it's great that there are lots of options, and I encourage you to\r\n          <i>not</i> use mine if it doesn't work for you. :)\r\n        </p>\r\n\r\n        <h4>Can you add [insert feature here]?</h4>\r\n\r\n        <p>Probably! Please make an suggestion as an issue on the github repo\r\n          <a target=\"_blank\" href=\"https://github.com/tnbKristi/eorzea_timers\"> here</a>!</p>\r\n      </div>\r\n    </div>\r\n)\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    version: state.version\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(About);\r\n","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport TimerModal from '../components/TimerModal';\r\nimport WatchGroupModal from '../components/WatchGroupModal';\r\n\r\nimport {\r\n  removeCustomNode,\r\n} from '../actions/customListActions';\r\nimport {\r\n  removeGroup\r\n} from '../actions/watchGroupsActions';\r\n\r\nclass CustomContent extends Component {\r\n\r\n  handleRemoveNode(id) {\r\n    this.props.removeCustomNode(id);\r\n  }\r\n\r\n  handleRemoveGroup(id) {\r\n    this.props.removeGroup(id);\r\n  }\r\n\r\n  renderCustomNode(node) {\r\n    return (\r\n      <div className=\"custom-node-item clearfix\" key={node.id}>\r\n        <div className=\"left\">\r\n          <div className=\"name\">{`${node.name} [${node.level}]`}</div>\r\n          <div className=\"meta\">\r\n            {`${node.time} ${node.location ? '  ' + node.location : ''}`}\r\n            { node.slot ? (\r\n              <span className=\"slot\">{`  slot ${node.slot}`}</span>\r\n            ): null}\r\n            { node.pos ? (\r\n              <span className=\"pos\">{`  ${node.pos}`}</span>\r\n            ): null}\r\n          </div>\r\n          {node.notes ? (\r\n            <div className=\"notes\"><i>notes: </i><br />\r\n              {node.notes}\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        <div className=\"right node-actions\">\r\n          <TimerModal timer={node} className=\"inline-block\" />\r\n          <a className=\"delete-btn\" onClick={this.handleRemoveNode.bind(this, node.id)}><i className=\"material-icons\">close</i></a>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderWatchGroup(group) {\r\n    return (\r\n      <div className=\"watch-group-item clearfix\" key={group.id}>\r\n        <div className=\"left\">\r\n          <h4>{group.name}  <small>{group.nodes.length} timers</small></h4>\r\n        </div>\r\n        <div className=\"right actions\">\r\n          <div className=\"right node-actions\">\r\n            <WatchGroupModal group={group} className=\"inline-block\" />\r\n            <a className=\"delete-btn\" onClick={this.handleRemoveGroup.bind(this, group.id)}><i className=\"material-icons\">close</i></a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      customlist,\r\n      watchgroups\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"custom-content-container\">\r\n        <div className=\"header\"><TimerModal/></div>\r\n        <div className=\"custom-node-list\">\r\n          <h3>Custom Timers</h3>\r\n          { customlist.length ? (\r\n              <div>\r\n                { customlist.map((item) => {\r\n                    return this.renderCustomNode(item);\r\n                })}\r\n              </div>\r\n          ): (\r\n            <div className=\"empty-list\">\r\n              <p>No Custom Timers Yet.</p>\r\n            </div>\r\n          ) }\r\n        </div>\r\n        <div className=\"watchgroup-list\">\r\n          <h3>Watch Groups</h3>\r\n          { watchgroups.length ? (\r\n            <div>\r\n              { watchgroups.map((group) => {\r\n                return this.renderWatchGroup(group);\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div className=\"empty-list\">\r\n              <p>No Watch Groups Created Yet.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    customlist: state.customlist,\r\n    watchgroups: state.watchgroups\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    removeCustomNode: (id) => dispatch(removeCustomNode(id)),\r\n    removeGroup: (id) => dispatch(removeGroup(id))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CustomContent);\r\n","import React from 'react';\r\n\r\n// Exported from redux-devtools\r\nimport { createDevTools } from 'redux-devtools';\r\n\r\n// Monitors are separate packages, and you can make a custom one\r\nimport LogMonitor from 'redux-devtools-log-monitor';\r\nimport DockMonitor from 'redux-devtools-dock-monitor';\r\n\r\n// createDevTools takes a monitor and produces a DevTools component\r\nconst DevTools = createDevTools(\r\n  // Monitors are individually adjustable with props.\r\n  // Consult their repositories to learn about those props.\r\n  // Here, we put LogMonitor inside a DockMonitor.\r\n  // Note: DockMonitor is visible by default.\r\n  <DockMonitor toggleVisibilityKey='ctrl-h'\r\n               changePositionKey='ctrl-q'\r\n               defaultIsVisible={true}>\r\n    <LogMonitor theme='tomorrow' />\r\n  </DockMonitor>\r\n);\r\n\r\nexport default DevTools;s\r\n","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport NodeList from '../modules/NodeList';\r\nimport { search } from '../actions/searchActions';\r\nimport SearchBar from '../components/SearchBar';\r\nimport FilterMenu from '../components/FilterMenu';\r\nimport TimerModal from '../components/TimerModal';\r\n\r\nimport {\r\n  filterTypeNodeList,\r\n  filterLevelNodeList,\r\n  toggleFeatureFilter\r\n} from '../actions/nodeListActions';\r\nimport {\r\n  toggleModal\r\n} from '../actions/pageActions';\r\n\r\n\r\nclass Home extends Component {\r\n  componentDidMount() {\r\n    $(this.tabMenu).tabs();\r\n\r\n    try {\r\n      Materialize.updateTextFields();\r\n    } catch(e) {}\r\n  }\r\n\r\n  itemIcon(item) {\r\n    return <i className={`icon icon-${item} icon-xs`}></i>\r\n  }\r\n\r\n  featureIcon(item) {\r\n    let icon;\r\n    let content;\r\n    switch(item) {\r\n        case 'is_collectable':\r\n          icon = 'icon-collectable';\r\n          break;\r\n        case 'is_ephemeral':\r\n          icon = 'material-icons';\r\n          content = 'book';\r\n          break;\r\n        case 'red_scrip':\r\n          icon = 'icon-red-scrip';\r\n          break;\r\n        case 'blue_scrip':\r\n          icon = 'icon-blue-scrip';\r\n          break;\r\n        default:\r\n          break;\r\n    }\r\n\r\n    return (\r\n        <i className={`icon ${icon} icon-sm`}>{content}</i>\r\n    )\r\n  }\r\n\r\n  handleFilterChange(name, value) {\r\n    const {\r\n      typeFilter,\r\n      levelFilter,\r\n      featureFilter\r\n    } = this.props;\r\n\r\n    switch (name) {\r\n      case 'type':\r\n        typeFilter(value);\r\n        break;\r\n\r\n      case 'level':\r\n        levelFilter(value);\r\n        break;\r\n      case 'feature':\r\n        featureFilter(value)\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      search,\r\n      availableFilters,\r\n      filterByType,\r\n      filterByLevel,\r\n      featureFilters,\r\n      searchValue\r\n    } = this.props;\r\n\r\n    const filterValues = {\r\n      type: filterByType,\r\n      level: filterByLevel,\r\n      feature: featureFilters\r\n    }\r\n\r\n    const { itemIcon, featureIcon, onSearchChange, handleFilterChange, handleAddTimer } = this;\r\n\r\n    return (\r\n      <div className=\"home-container\">\r\n          <div className=\"row\">\r\n            <div className=\"col m8\">\r\n              <SearchBar onChange={ search } defaultValue={ searchValue }\r\n                helpText={\"Search by Name or Location\"}/>\r\n            </div>\r\n            <div className=\"col m4\">\r\n              <TimerModal />\r\n            </div>\r\n        </div>\r\n        <div className=\"row\">\r\n            <FilterMenu className=\"node-list-filters\" values={filterValues}\r\n              onChange={handleFilterChange.bind(this)} filters={availableFilters} />\r\n        </div>\r\n        <NodeList />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    filterByType: state.nodelist.filterByType,\r\n    filterByLevel: state.nodelist.filterByLevel,\r\n    featureFilters: state.nodelist.featureFilters,\r\n    availableFilters: state.nodelist.filters,\r\n    searchValue: state.search\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    search: (e, value) => dispatch(search(value)),\r\n    typeFilter: (value) => dispatch(filterTypeNodeList(value)),\r\n    levelFilter: (value) => dispatch(filterLevelNodeList(value)),\r\n    featureFilter: (value) => dispatch(toggleFeatureFilter(value))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { find, sortBy, filter, indexOf, union } from 'lodash';\r\nimport {NavLink} from 'react-router-dom';\r\nimport SettingsModal from '../components/SettingsModal';\r\nimport WatchGroupSelect from '../components/WatchGroupSelect';\r\nimport WatchGroupModal from '../components/WatchGroupModal';\r\n\r\nimport {\r\n  clearAll\r\n} from '../actions/watchListActions';\r\n\r\n\r\nimport {\r\n  isActive,\r\n  getEarthTimeUntil,\r\n  getEarthTimeRemaining\r\n} from '../utils/timeUtils';\r\n\r\nimport WatchListItem from '../modules/WatchListItem';\r\n\r\nclass WatchList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.sortNodes = this.sortNodes.bind(this);\r\n  }\r\n\r\n  sortNodes() {\r\n    const {\r\n      watchlist,\r\n      customlist,\r\n      nodelist,\r\n      clock\r\n    } = this.props;\r\n\r\n    const fullList = union(nodelist.nodes || [], customlist);\r\n    if(!fullList.length) { return []; }\r\n\r\n    const list = filter(fullList, (node) => {\r\n      return indexOf(watchlist, node.id) >= 0 ? true : false;\r\n    })\r\n\r\n    return sortBy(list, (node) => {\r\n        const active = isActive(clock.time, node.time, node.duration),\r\n              timeUntil = getEarthTimeUntil(node.time, clock.time),\r\n              timeRemaining = getEarthTimeRemaining(node.time, node.duration, clock.time);\r\n\r\n        if(active) {\r\n            return ((timeRemaining.hours * 60) + timeRemaining.minutes) - 1000;\r\n        } else {\r\n            return (timeUntil.hours * 60) + timeUntil.minutes;\r\n        }\r\n    });\r\n  }\r\n\r\n  handleCreateWatchgroup() {\r\n    let group = {\r\n      name: '',\r\n      nodes: [... this.props.watchlist]\r\n    };\r\n\r\n\r\n    this.props.createGroup(group);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      watchlist,\r\n      watchgroups,\r\n      modal\r\n    } = this.props;\r\n\r\n    const flex = watchlist.length >= 2;\r\n\r\n    return (\r\n      <div className={`watchlist-container`}>\r\n        <div className=\"row\">\r\n          <div className=\"col s9\">\r\n            <SettingsModal className=\"left\" />\r\n            { watchlist.length ? (\r\n              <WatchGroupModal className=\"left\" />\r\n            ): null}\r\n            {watchgroups.length ? (\r\n              <WatchGroupSelect className=\"left\" />\r\n            ): null }\r\n          </div>\r\n          <div className=\"col s3 right-align\">\r\n            <a onClick={this.props.clearAll} className=\"btn btn-small btn-default\">clear all</a>\r\n          </div>\r\n        </div>\r\n        { watchlist.length ? (\r\n          <div className={`row watchlist-list flex`}>\r\n            { this.sortNodes().map((node, i) => {\r\n              return (\r\n                <WatchListItem key={node.id} className={`col`} node={node} />\r\n              )\r\n            }) }\r\n          </div>\r\n        ) : (\r\n          <div className=\"row\">\r\n            <div className=\"col s12\">\r\n              <h3>Your watch list is empty!</h3>\r\n              <p>Add items from a saved group, or a search on the <NavLink to=\"/\">homepage</NavLink>.</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    nodelist: state.nodelist,\r\n    customlist: state.customlist,\r\n    watchlist: state.watchlist.nodes,\r\n    watchgroups: state.watchgroups,\r\n    clock: state.clock\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    clearAll: () => dispatch(clearAll()),\r\n    toggleModal: () => dispatch(toggleModal()),\r\n    createGroup: (group) => dispatch(createGroup())\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WatchList);\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { throttle, assign } from 'lodash';\r\nimport IS_DEV from 'isdev';\r\n\r\nimport App from './App';\r\nimport reducers from './reducers';\r\nimport { loadState, saveState, clearState } from './utils/storageUtils';\r\nimport { setTime } from './utils/timeUtils';\r\n\r\nconst persistedState = loadState() || {};\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst enhancer = composeEnhancers(\r\n  applyMiddleware(thunk)\r\n);\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  assign({}, persistedState, {\r\n    clock: setTime()\r\n  }),\r\n  enhancer\r\n);\r\n\r\nstore.subscribe(throttle(() => {\r\n  saveState({\r\n    version: store.getState().version,\r\n    watchgroups: store.getState().watchgroups,\r\n    settings: store.getState().settings,\r\n    watchlist: store.getState().watchlist,\r\n    customlist: store.getState().customlist\r\n  });\r\n}, 1000));\r\n\r\nconst Root = (props) => (<App store={store} />);\r\n\r\nexport default Root;\r\n","import React, { PropTypes, Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport _ from 'lodash';\r\n\r\nimport {\r\n  isActive,\r\n  getTimeDifference,\r\n  getEarthDurationfromEorzean,\r\n  getDurationStringFromObject,\r\n  getEarthTimeRemaining\r\n} from '../utils/timeUtils';\r\n\r\nclass Node extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={`${this.props.className}`}>\r\n        {this.props.children}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n  export default Node;\r\n","import React, {PropTypes, Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport _ from 'lodash';\r\nimport NodeListItem from './NodeListItem';\r\nimport {isActive, getTimeDifference, getEarthDurationfromEorzean, getDurationStringFromObject, getEarthTimeRemaining} from '../utils/timeUtils';\r\nimport searchUtil from '../utils/searchUtils';\r\n\r\nclass NodeList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      activePanels: ['active'],\r\n      list: [],\r\n      sortedGroups: {},\r\n      groups: {\r\n        'search': 'Search Results',\r\n        'active': 'Active Nodes',\r\n        'one_hour': 'In One Hour',\r\n        'two_hour': 'In Two Hours',\r\n        'the_rest': 'After That'\r\n      }\r\n    }\r\n\r\n    this.renderListGroup = this.renderListGroup.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.sortAndFilterNodes();\r\n    $(this.collapseList).collapsible();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.collapseReset();\r\n  }\r\n\r\n  collapseReset() {\r\n    if(!this.state.collapsed) {\r\n      $(this.collapseList).collapsible('open', 0);\r\n\r\n      this.setState({ collapsed: true });\r\n    }\r\n  }\r\n\r\n  groupListByTime(list = []) {\r\n    var time = this.props.clock.time,\r\n      active = [],\r\n      one_hour = [],\r\n      two_hour = [],\r\n      the_rest = [];\r\n\r\n    _.each(list, function(node) {\r\n      if (isActive(time, node.time, node.duration)) {\r\n        return active.push(node);\r\n      }\r\n\r\n      let timeUntil = getTimeDifference(time, node.time),\r\n        hours = timeUntil.hours,\r\n        minutes = timeUntil.minutes;\r\n\r\n      if (hours === 0 && minutes > 0) {\r\n        return one_hour.push(node);\r\n      }\r\n\r\n      if (hours === 1 && minutes > 0) {\r\n        return two_hour.push(node);\r\n      }\r\n\r\n      return the_rest.push(node);\r\n\r\n    });\r\n\r\n    return {\r\n      active: active.sort((a, b) => {\r\n        let aDur = getEarthTimeRemaining(a.time, a.duration, this.props.clock.time),\r\n          bDur = getEarthTimeRemaining(b.time, b.duration, this.props.clock.time);\r\n\r\n        var aTime = (aDur.hours * 60) + (aDur.minutes * 60) + aDur.seconds,\r\n          bTime = (bDur.hours * 60) + (bDur.minutes * 60) + bDur.seconds;\r\n\r\n        if (aTime < bTime) {\r\n          return -1;\r\n        }\r\n\r\n        if (aTime > bTime) {\r\n          return 1;\r\n        }\r\n\r\n        // a must be equal to b\r\n        return 0;\r\n      }),\r\n      one_hour,\r\n      two_hour,\r\n      the_rest\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.sortAndFilterNodes(nextProps);\r\n\r\n    const currSearch = _.isEmpty(this.props.search);\r\n    const nextSearch = _.isEmpty(nextProps.search);\r\n\r\n    if(currSearch !== nextSearch) {\r\n      this.setState({ collapsed: false }, this.collapseReset)\r\n    }\r\n  }\r\n\r\n  sortAndFilterNodes(props) {\r\n    const {\r\n      nodelist,\r\n      customlist,\r\n      search\r\n    } = props || this.props;\r\n\r\n    let list = _.union(nodelist.nodes || [], customlist);\r\n\r\n    if (list.length && !_.isEmpty(search)) {\r\n      list = searchUtil(nodelist.nodes, search);\r\n    }\r\n\r\n    if (!_.isEmpty(nodelist.filterByType) && nodelist.filterByType !== 'all') {\r\n      list = _.filter(list, { type: nodelist.filterByType });\r\n    }\r\n\r\n    if(nodelist.filterByLevel) {\r\n      if(_.isArray(nodelist.filterByLevel)) {\r\n        let levelRange = nodelist.filterByLevel;\r\n        list = _.filter(list, (item) => {\r\n          return item.level >= levelRange[0] && item.level <= levelRange[1];\r\n        });\r\n      } else {\r\n        list = _.filter(list, { level: nodelist.filterByLevel })\r\n      }\r\n    }\r\n\r\n    if (!_.isEmpty(nodelist.featureFilters)) {\r\n      list = _.filter(list, function(item) {\r\n        let keep = false;\r\n\r\n        _.each(nodelist.featureFilters, function(filter) {\r\n          let value = item[filter];\r\n\r\n          // there are a number of values that can be\r\n          // stored in filterFeature keys.\r\n          // we want to show the node if the filter key\r\n          // is non-empty or an explicit boolean of true.\r\n          if (!_.isUndefined(value)) {\r\n\r\n            // scrip keys can be an empty string or a min value\r\n            if (_.isString(value) && !_.isEmpty(value) || _.isNumber(value)) {\r\n              keep = true;\r\n            }\r\n            // only explicitly pass true if the filter is true.\r\n            // this way if another filter is true we don't accidently\r\n            // set it to false incorrectly.\r\n            if (_.isBoolean(value) && value === true) {\r\n              keep = true;\r\n              // or fall back to a nonempty value as true\r\n            } else if (!_.isEmpty(value)) {\r\n              keep = true;\r\n            }\r\n          }\r\n        });\r\n\r\n        // if the key is undefined, we will default to false (don't show)\r\n        return keep;\r\n      });\r\n    }\r\n\r\n    let sortedGroups;\r\n    if(_.isEmpty(search)) {\r\n      sortedGroups = this.groupListByTime(list);\r\n    } else {\r\n      sortedGroups = {\r\n        'search': list\r\n      }\r\n    }\r\n\r\n    this.setState({'list': list, sortedGroups});\r\n  }\r\n\r\n  shouldExpand(activePanels, groupName) {\r\n    return activePanels.indexOf(groupName) >= 0 ? 'active' : '';\r\n  }\r\n\r\n  renderListGroup(groupName, index) {\r\n    const { sortedGroups, groups, activePanels } = this.state;\r\n    const count = sortedGroups[groupName].length;\r\n\r\n    const isOpen = groupName === 'search';\r\n\r\n    return (\r\n      <li className={`${groupName}-list`} key={groupName}>\r\n        <div id={groupName} className={`collapsible-header`}>\r\n          { groups[groupName] }\r\n          <span className={`badge list-item-count ${ count > 0 ? 'active' : ''}`}>\r\n            { sortedGroups[groupName].length }\r\n          </span>\r\n        </div>\r\n        <div className=\"collapsible-body\">\r\n          <div className={`node-list-group row`}>\r\n            { sortedGroups[groupName].map((node) => {\r\n                return (<NodeListItem node={node} key={node.id} className=\"col s12\" />)\r\n              }) }\r\n          </div>\r\n        </div>\r\n      </li>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { nodelist, search } = this.props;\r\n    const { sortedGroups, groups, activePanels, list } = this.state;\r\n    const { shouldExpand, renderListGroup } = this;\r\n\r\n    const groupKeys = Object.keys(sortedGroups);\r\n\r\n    return (\r\n      <div className=\"node-list\">\r\n        <h4 className=\"list-header\">\r\n          <span className=\"total\">{list.length} items</span>\r\n        </h4>\r\n        <h6 className=\"list-subheader\">\r\n          { groupKeys.length > 1 ? groupKeys.map((group) => {\r\n            return (\r\n              <span className=\"group-total\" key={group}>\r\n                {`${groups[group]}: `}\r\n                {`${sortedGroups[group].length}`}\r\n              </span>\r\n            )\r\n          }) : null }\r\n        </h6>\r\n        <ul className=\"collapsible popout\" ref={(list) => {\r\n          this.collapseList = list;\r\n        }}>\r\n            { groupKeys.map((group, i) => {\r\n                return renderListGroup(group, i)\r\n            })}\r\n        </ul>\r\n      </div>\r\n\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    nodelist: state.nodelist,\r\n    customlist: state.customlist,\r\n    search: state.search,\r\n    clock: state.clock\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(NodeList);\r\n","import React, { PropTypes, Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport _ from 'lodash';\r\nimport Node from './Node';\r\n\r\nimport {\r\n  isActive,\r\n  getTimeDifference,\r\n  getEarthDurationfromEorzean,\r\n  getDurationStringFromObject,\r\n  getEarthTimeRemaining\r\n} from '../utils/timeUtils';\r\nimport {\r\n  toggleSelect\r\n} from '../actions/watchListActions';\r\nimport Stars from '../components/NodeStars';\r\nimport { parsePosition } from '../utils/parseUtils';\r\n\r\nclass NodeListItem extends Component {\r\n\r\n  render() {\r\n    const { node, clock, watchlist, toggleSelect, className } = this.props;\r\n    const active = isActive(clock.time, node.time, node.duration);\r\n\r\n    var slot = node.slot || '?',\r\n        earthTimeRemaining,\r\n        status = '',\r\n        selected = _.indexOf(watchlist, node.id) !== -1;\r\n\r\n    if(active) {\r\n      earthTimeRemaining = getEarthTimeRemaining(node.time, node.duration, this.props.clock.time);\r\n\r\n      let mins = earthTimeRemaining.minutes;\r\n\r\n      switch (true) {\r\n        case mins <= 2 && mins > 1:\r\n          status = 'warning';\r\n          break;\r\n        case mins <= 1:\r\n          status = 'danger';\r\n          break;\r\n        default:\r\n          status = 'active';\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Node className={className}>\r\n        <div className={`node node-list-item clearfix ${selected ? 'selected' : ''} ${status}`} onClick={toggleSelect.bind(this, node.id)}>\r\n          <div className=\"left node-list-title\">\r\n            <span className={`icon icon-${node.type} icon-sm`}></span>\r\n            <span>\r\n              { `${node.time} [${node.level}] ${node.name}` }\r\n              <Stars stars={node.stars} />\r\n              { `[ slot ${slot} ]` }\r\n            </span>\r\n            <span className=\"diff\">\r\n              { active ? `${earthTimeRemaining.minutes}m ${earthTimeRemaining.seconds}s` : '' }\r\n            </span>\r\n          </div>\r\n          <div className=\"right right-align node-list-details\">\r\n            <span className=\"small location\">{ node.location }</span>\r\n            <span className=\"small coords\">{ node.pos }</span>\r\n          </div>\r\n        </div>\r\n      </Node>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    clock: state.clock,\r\n    watchlist: state.watchlist.nodes\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    toggleSelect: (id) => dispatch(toggleSelect(id))\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NodeListItem);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { isEqual, find } from 'lodash';\r\n\r\nimport ReactAudioPlayer from 'react-audio-player';\r\nimport Modal from '../components/Modal';\r\n\r\nimport sounds from '../static/sounds';\r\nimport { closeNotification } from '../actions/clockActions';\r\n\r\nclass Notifications extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      active: false\r\n    };\r\n  }\r\n\r\n  componentWillUpdate(nextProps) {\r\n    const { alarmList } = this.props;\r\n\r\n    if(!isEqual(alarmList, nextProps.alarmList) && nextProps.alarmList.length) {\r\n      this.handleNotifications(nextProps);\r\n    }\r\n  }\r\n\r\n  handleNotifications(props) {\r\n    if(this.state.active) { return; }\r\n\r\n    const list = props.alarmList,\r\n          style = props.alarmStyle;\r\n\r\n    if(style === 'popup') {\r\n      this.setState({ active: true });\r\n    } else if(style === 'desktop') {\r\n\r\n      const single = list.length === 1,\r\n            firstNode = list[0],\r\n            title = single ? firstNode.name : `${firstNode.name} & ${list.length - 1} Others`;\r\n\r\n      let options = {};\r\n      if(firstNode.type === 'botany') {\r\n        options.icon = '/img/btn_icon_lg.png';\r\n      } else {\r\n        options.icon = '/img/min_icon_lg.png';\r\n      }\r\n\r\n      this.setState({ active: true });\r\n      const notification = new Notification(title, options);\r\n\r\n      return setTimeout(() => {\r\n        this.setState({ active: false });\r\n        props.closeNotification();\r\n      }, 5000);\r\n    }\r\n  }\r\n\r\n  renderPopupContent() {\r\n    const {\r\n      alarmList\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"popup-content-container modal-content\">\r\n        <h3>Node Alert</h3>\r\n        { alarmList.map((node) => {\r\n          return (\r\n            <div key={`popup-${node.id}`}>\r\n              <h5>{node.name}: {node.time}</h5>\r\n              <p>{node.location}</p>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      active\r\n    } = this.state;\r\n    const {\r\n      alarmSound,\r\n      alarmStyle,\r\n      closeNotification\r\n    } = this.props;\r\n\r\n    const hasSound = alarmSound && alarmSound !== 'none';\r\n    let soundFile;\r\n\r\n    if(hasSound) {\r\n      soundFile = find(sounds, { name: alarmSound });\r\n    }\r\n\r\n    return (\r\n      <div className=\"notification-container\">\r\n        { active ? (\r\n          <div>\r\n            { soundFile ? (\r\n              <ReactAudioPlayer src={`/sound/${soundFile.filename}`} autoPlay className=\"\" />\r\n              ) : null}\r\n            }\r\n            { alarmStyle === 'popup' ? (\r\n              <Modal open={active} timeout={{time: 5000, callback: closeNotification}}>\r\n                {this.renderPopupContent()}\r\n              </Modal>\r\n            ) : null}\r\n          </div>\r\n        ) : null }\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    alarmList: state.clock.alarm,\r\n    alarmStyle: state.settings.alarm_style,\r\n    alarmSound: state.settings.alarm_sound\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    closeNotification: () => dispatch(closeNotification())\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifications);\r\n","import React, { PropTypes, Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { indexOf } from 'lodash';\r\nimport {\r\n  isActive,\r\n  getTimeDifference,\r\n  getEarthDurationfromEorzean,\r\n  getDurationStringFromObject,\r\n  getEarthTimeRemaining,\r\n  getEarthTimeUntil,\r\n  getTimeUntil\r\n} from '../utils/timeUtils';\r\n\r\nimport {\r\n  toggleSelect\r\n} from '../actions/watchListActions';\r\n\r\nimport Stars from '../components/NodeStars';\r\nimport { parsePosition } from '../utils/parseUtils';\r\n\r\nclass WatchListItem extends Component {\r\n\r\n  render() {\r\n    const { node, clock, watchlist, toggleSelect, className } = this.props;\r\n    const { stars } = this;\r\n    const active = isActive(clock.time, node.time, node.duration);\r\n\r\n    var slot = node.slot || '?',\r\n        timeRemaining,\r\n        time,\r\n        status = '',\r\n        selected = indexOf(watchlist, node.id) !== -1;\r\n\r\n    if(active) {\r\n      time = getEarthTimeRemaining(node.time, node.duration, clock.time);\r\n\r\n      let mins = time.minutes;\r\n\r\n      switch (true) {\r\n        case mins <= 2 && mins > 1:\r\n          status = 'warning';\r\n          break;\r\n        case mins <= 1:\r\n          status = 'danger';\r\n          break;\r\n        default:\r\n          status = 'active';\r\n      }\r\n\r\n    } else {\r\n      time = getEarthTimeUntil(node.time, clock.time);\r\n    }\r\n\r\n    return (\r\n      <div className={`${className}`}>\r\n        <div className={`node watchlist-item clearfix ${active ? 'active' : ''} ${status}`} >\r\n          <div className=\"node-content\">\r\n            <div className=\"node-list-title\">\r\n              <span className={`icon icon-${node.type} icon-sm`}></span>\r\n              <span>\r\n                { node.time }\r\n              </span>\r\n              <div className=\"close\" onClick={toggleSelect.bind(this, node.id)}><i className=\"material-icons\">close</i></div>\r\n            </div>\r\n            <div className=\"node-list-name\">\r\n              <div className=\"name\">\r\n                {`${node.name} [${node.level}]`}\r\n              </div>\r\n              <div className=\"meta\">\r\n                <Stars stars={node.stars} />\r\n              </div>\r\n            </div>\r\n            <div className=\"time-remaining\">\r\n              <div className=\"small\">{active ? 'time remaining' : 'time until'}:</div>\r\n              <div className=\"diff\">\r\n                { `${time.hours > 0 ? time.hours + 'h ' : ''}${time.minutes}m ${time.seconds}s` }\r\n              </div>\r\n            </div>\r\n            <div className=\"slot\">\r\n              { `[ slot ${slot} ]` }\r\n            </div>\r\n            { node.type === 'fishing' && node.bait ? (\r\n              <div className=\"bait\">{ node.bait.join(', ') }</div>\r\n            ) : null }\r\n          </div>\r\n          <div className=\"node-list-footer\">\r\n            <div className=\"small location\">{ node.location }</div>\r\n            <div className=\"small coords\">{ node.pos }</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    clock: state.clock\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    toggleSelect: (id) => dispatch(toggleSelect(id))\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WatchListItem);\r\n","import { setTime } from '../utils/timeUtils';\r\n\r\nimport {\r\n  INCREMENT_CLOCK,\r\n  UPDATE_LAST_ALARM,\r\n  DISPATCH_NOTIFICATION,\r\n  CLOSE_NOTIFICATION\r\n} from '../actions/clockActions';\r\n\r\nconst clock = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case INCREMENT_CLOCK:\r\n      return Object.assign({}, state, setTime());\r\n\r\n    case UPDATE_LAST_ALARM:\r\n      return Object.assign({}, state, { lastAlarm: action.hour });\r\n\r\n    case DISPATCH_NOTIFICATION:\r\n      return Object.assign({}, state, { alarm: action.list });\r\n\r\n    case CLOSE_NOTIFICATION:\r\n      return Object.assign({}, state, { alarm: [] });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\nexport default clock;\r\n","import uuid from 'uuid/v1';\r\nimport _ from 'lodash';\r\n\r\nimport {\r\n  ADD_CUSTOM_NODE,\r\n  EDIT_CUSTOM_NODE,\r\n  REMOVE_CUSTOM_NODE\r\n} from '../actions/customListActions';\r\n\r\nconst customlist = (state = [], action) => {\r\n  let list = _.clone(state),\r\n      node, existsAt;\r\n\r\n  switch (action.type) {\r\n    case ADD_CUSTOM_NODE:\r\n      node = Object.assign({}, action.node, {\r\n        id: uuid()\r\n      });\r\n\r\n      return [...state, node];\r\n\r\n    case EDIT_CUSTOM_NODE:\r\n      existsAt = _.indexOf(state, action.node.id);\r\n      node = _.find(list, { id: action.node.id });\r\n\r\n      let newNode;\r\n      if(node) {\r\n        list.splice(existsAt, 1);\r\n        newNode = Object.assign({}, node, action.node);\r\n        list.push(newNode);\r\n      }\r\n\r\n      return list;\r\n\r\n    case REMOVE_CUSTOM_NODE:\r\n      existsAt = _.findIndex(list, {id: action.id});\r\n\r\n      // if exists, remove from list\r\n      if (existsAt !== -1) {\r\n        list.splice(existsAt, 1);\r\n      }\r\n\r\n      return list;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default customlist;\r\n","import { routerReducer as routing } from 'react-router-redux';\r\nimport { combineReducers } from 'redux';\r\nimport clock from './clockReducer';\r\nimport nodelist from './nodeListReducer';\r\nimport search from './searchReducer';\r\nimport watchlist from './watchListReducer';\r\nimport settings from './settingsReducer';\r\nimport page from './pageReducer';\r\nimport watchgroups from './watchGroupsReducer';\r\nimport customlist from './customListReducer';\r\n\r\nconst version = (state) => \"2.2.4\";\r\n\r\nconst rootReducer = combineReducers({\r\n  clock,\r\n  routing,\r\n  nodelist,\r\n  search,\r\n  watchlist,\r\n  settings,\r\n  page,\r\n  watchgroups,\r\n  customlist,\r\n  version\r\n});\r\n\r\nexport default rootReducer;\r\n","import _ from 'lodash';\r\nimport * as utils from '../utils/parseUtils';\r\n\r\nimport {\r\n  REQUEST_NODELIST,\r\n  RECEIVE_NODELIST,\r\n  FILTER_TYPE_NODELIST,\r\n  FILTER_LEVEL_NODELIST,\r\n  FILTER_FEATURE_TOGGLE_NODELIST\r\n} from '../actions/nodeListActions';\r\n\r\nimport filters from '../static/filters';\r\n\r\nexport const defaultState = {\r\n  isFetching: false,\r\n  nodes: [],\r\n  filterByType: 'all',\r\n  filterByLevel: null,\r\n  featureFilters: [],\r\n  filters\r\n}\r\n\r\nfunction nodes(state = defaultState, action) {\r\n  var booleanValues = [\r\n    'is_collectable',\r\n    'is_legendary',\r\n    'is_ephemeral',\r\n    'red_scrip',\r\n    'blue_scrip',\r\n    'yellow_scrip'\r\n  ];\r\n\r\n  switch(action.type) {\r\n    case REQUEST_NODELIST:\r\n      return Object.assign({}, state, {\r\n        isFetching: true\r\n      });\r\n\r\n    case RECEIVE_NODELIST:\r\n      var nodes = [];\r\n\r\n      // merge the lists of nodes to a single array,\r\n      // and create a unique entry for each time per node.\r\n      _.each(action.nodes, (list, key) => {\r\n\r\n        _.each(list, function(node) {\r\n          let result = {},\r\n              times = utils.parseTimes(node.times),\r\n              pos = utils.parsePosition(node.pos),\r\n              level = utils.parseLevel(node.level || 50);\r\n\r\n          if(node.bait) {\r\n            result.bait = utils.parseAttrs(node.bait);\r\n          }\r\n\r\n          _.each(booleanValues, (key) => {\r\n            result[key] = utils.parseBooleans(node[key]);\r\n          });\r\n\r\n          _.each(times, (time, i) => {\r\n            nodes.push(Object.assign({}, node, {\r\n                time,\r\n                type: key,\r\n                id: `${node.id}-${i}`,\r\n                level,\r\n                pos\r\n              }, result))\r\n\r\n            });\r\n          });\r\n\r\n        });\r\n\r\n      return Object.assign({}, state, {\r\n        isFetching: false,\r\n        nodes: nodes,\r\n        lastUpdated: action.recievedAt\r\n      });\r\n\r\n    case FILTER_TYPE_NODELIST:\r\n      return Object.assign({}, state, {\r\n        filterByType: action.filterByType\r\n      });\r\n\r\n    case FILTER_LEVEL_NODELIST:\r\n      const filter = action.filterByLevel;\r\n      let newFilter = filter;\r\n\r\n      if(newFilter === state.filterByLevel) {\r\n        newFilter = null;\r\n      }\r\n\r\n      return Object.assign({}, state, {\r\n        filterByLevel: newFilter\r\n      });\r\n\r\n    case FILTER_FEATURE_TOGGLE_NODELIST:\r\n      let featureFilters = state.featureFilters,\r\n          existsAt = _.indexOf(featureFilters, action.feature);\r\n\r\n      if(existsAt !== -1) {\r\n          featureFilters.splice(existsAt, 1);\r\n      } else {\r\n        featureFilters.push(action.feature);\r\n      }\r\n\r\n      return Object.assign({}, state, {\r\n        featureFilters: featureFilters\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\nexport default nodes;\r\n","import _ from 'lodash';\r\n\r\nimport {\r\n  TOGGLE_SELECT\r\n} from '../actions/nodeActions';\r\n\r\nfunction node(state = {}, action) {\r\n  switch(action.type) {\r\n    case TOGGLE_SELECT:\r\n      return Object.assign({}, state, {\r\n        selected: !action.selected,\r\n      });\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default node\r\n","import {TOGGLE_MODAL} from '../actions/pageActions';\r\n\r\nconst page = (state = {\r\n  modal: false\r\n}, action) => {\r\n\r\n    switch (action.type) {\r\n      case TOGGLE_MODAL:\r\n        return Object.assign({}, state, {\r\n          modal: !state.modal\r\n        });\r\n\r\n      default:\r\n        return state;\r\n    }\r\n\r\n}\r\n\r\nexport default page;\r\n","import search from '../utils/searchUtils';\r\nimport {\r\n  SEARCH_QUERY\r\n} from '../actions/searchActions';\r\n\r\nexport default function (state = '', action) {\r\n  switch (action.type) {\r\n    case SEARCH_QUERY:\r\n      return action.query\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  UPDATE_SETTING\r\n} from '../actions/settingsActions';\r\n\r\n\r\nconst settings = (state = {\r\n}, action) => {\r\n\r\n    switch (action.type) {\r\n      case UPDATE_SETTING:\r\n        return Object.assign({}, state, action.setting);\r\n\r\n      default:\r\n        return state;\r\n    }\r\n\r\n}\r\n\r\nexport default settings;\r\n","import uuid from 'uuid/v1';\r\nimport { findIndex, find, indexOf, extend } from 'lodash';\r\n\r\nimport {\r\n  WATCHGROUP_ADD_ITEM,\r\n  WATCHGROUP_REMOVE_ITEM,\r\n  CREATE_WATCHGROUP,\r\n  REMOVE_WATCHGROUP,\r\n  UPDATE_WATCHGROUP\r\n} from '../actions/watchGroupsActions';\r\n\r\nconst watchgroups = (state = [], action) => {\r\n    const list = [...state];\r\n    let targetGroup, existsAt, group;\r\n\r\n    switch (action.type) {\r\n      case CREATE_WATCHGROUP:\r\n        if(!action.group) { return state; }\r\n\r\n        group = Object.assign({}, action.group, {\r\n          id: uuid()\r\n        });\r\n\r\n        return [...state, group];\r\n\r\n      case UPDATE_WATCHGROUP:\r\n        if(!action.group) { return state; }\r\n        group = find(list, { id: action.group.id });\r\n\r\n        extend(group, action.group);\r\n\r\n        return list;\r\n      case REMOVE_WATCHGROUP:\r\n        existsAt = findIndex(list, { id: action.id });\r\n\r\n        if(existsAt !== -1) {\r\n          list.splice(existsAt, 1);\r\n        }\r\n\r\n        return list;\r\n\r\n      case WATCHGROUP_ADD_ITEM:\r\n        targetGroup = find(list, { id: action.groupId });\r\n\r\n        if(indexOf(targetGroup.nodes, action.nodeId) !== -1) {\r\n          targetGroup.nodes.push(action.nodeId);\r\n        }\r\n\r\n        return list;\r\n\r\n      case WATCHGROUP_REMOVE_ITEM:\r\n        targetGroup = find(list, { id: action.groupId });\r\n        existsAt = indexOf(targetGroup.nodes, action.nodeId);\r\n\r\n        if(existsAt !== -1) {\r\n          targetGroup.nodes.splice(existsAt, 1);\r\n        }\r\n\r\n        return list;\r\n\r\n      default:\r\n        return state;\r\n    }\r\n\r\n}\r\n\r\nexport default watchgroups;\r\n","import _ from 'lodash';\r\n\r\nimport {\r\n  ADD_WATCHLIST,\r\n  REMOVE_WATCHLIST,\r\n  UPDATE_TIMES,\r\n  CLEAR_ALL\r\n} from '../actions/watchListActions';\r\n\r\nexport default function watchlist(state = {nodes: [], times: []}, action) {\r\n  let list = _.clone(state.nodes),\r\n      id = action.id,\r\n      existsAt = _.indexOf(list, id);\r\n\r\n  switch(action.type) {\r\n    case ADD_WATCHLIST:\r\n      if (existsAt === -1) {\r\n        list.push(id);\r\n      }\r\n      return Object.assign({}, state, { nodes: list });\r\n\r\n    case REMOVE_WATCHLIST:\r\n      if (existsAt !== -1) {\r\n          list.splice(existsAt, 1);\r\n      }\r\n      return Object.assign({}, state, { nodes: list });\r\n\r\n    case UPDATE_TIMES:\r\n      return Object.assign({}, state, { times: action.times })\r\n\r\n    case CLEAR_ALL:\r\n    return Object.assign({}, state, { nodes: [] })\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { HashRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport Home from './containers/Home';\r\nimport About from './containers/About';\r\nimport WatchList from './containers/WatchList';\r\nimport CustomContent from './containers/CustomContent';\r\n\r\nimport MainNav from './components/MainNav';\r\n\r\nexport default () => (\r\n  <Router>\r\n    <div>\r\n      <MainNav />\r\n      <div className=\"container\">\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route path=\"/watch\" component={WatchList} />\r\n        <Route path=\"/custom\" component={CustomContent} />\r\n        <Route path=\"/about\" component={About}/>\r\n      </div>\r\n    </div>\r\n  </Router>\r\n);\r\n","export default {\n  type: {\n    name: 'By Class',\n    values: [\n        'all',\n        'botany',\n        'mining',\n        'fishing',\n        'custom'\n    ]\n  },\n  level: {\n    name: 'By Level',\n    values: [\n      { value: 50, name: '50' },\n      { value: [51, 59], name: '51-59'},\n      { value: 60, name: '60'},\n      { value: [61,69], name: '61-69'},\n      { value: 70, name: '70'},\n      { value: [71, 79], name: '71-79'},\n      { value: 80, name: '80'}\n    ]\n  },\n  feature: {\n    name: 'By Type',\n    values: [\n      {value: 'is_collectable', name: 'Collectable'},\n      {value: 'is_ephemeral', name: 'Ephemeral'},\n      // {value: 'red_scrip', name: 'Red Scrip'},\n      // {value: 'blue_scrip', name: 'Blue Scrip'},\n      {value: 'yellow_scrip', name: 'Yellow Scrip'},\n      {value: 'white_scrip', name: 'White Scrip'}\n    ]\n  }\n};\n","export default [\r\n  {\r\n    name: 'chime',\r\n    filename: 'chime.wav'\r\n  },\r\n  {\r\n    name: 'big ben',\r\n    filename: 'chime_big_ben.wav'\r\n  },\r\n  {\r\n    name: 'chime up',\r\n    filename: 'chime_up.wav'\r\n  },\r\n  {\r\n    name: 'cuckoo',\r\n    filename: 'cuckoo.wav'\r\n  },\r\n  {\r\n    name: 'doorbell',\r\n    filename: 'doorbell.wav'\r\n  },\r\n  {\r\n    name: 'floop',\r\n    filename: 'floop.wav'\r\n  },\r\n  {\r\n    name: 'gong',\r\n    filename: 'gong.wav'\r\n  }\r\n];\r\n","import { isArray, filter, isString, trim } from 'lodash';\r\n\r\nexport function parsePosition(pos) {\r\n  if(isArray(pos)) {\r\n    return pos.join(', ').replace(/\\:/g, ' ');\r\n  } else if(pos) {\r\n    return pos.replace(/\\:/g, ' ');\r\n  }\r\n}\r\n\r\nexport function parseAttrs(attr) {\r\n  if(isString(attr)) {\r\n    return filter(attr.split(','), (a) => {\r\n      return a.length > 0;\r\n    })\r\n  }\r\n}\r\n\r\nexport function parseTimes(times) {\r\n  if(isArray(times)) {\r\n    return times;\r\n\r\n  } else {\r\n    var list = times.split(',').map((time) => trim(time));\r\n\r\n    return filter(list, (time) => {\r\n      return time.length > 0;\r\n    });\r\n  }\r\n}\r\n\r\nexport function parseLevel(value) {\r\n  return parseFloat(value);\r\n}\r\n\r\nexport function parseBooleans(value) {\r\n  if(!value || value.length === 0 || value.toLowerCase() === 'false') {\r\n    return false;\r\n  } else if(value.toLowerCase() === 'true') {\r\n    return true;\r\n  } else {\r\n    return value;\r\n  }\r\n}\r\n","import Fuse from 'fuse.js';\r\n\r\nexport default function search(list, query = '', opts = {}) {\r\n  var fuse = new Fuse(list, Object.assign({\r\n        keys: ['name', 'location'],\r\n        threshold: 0.3\r\n      }, opts));\r\n\r\n\r\n  return fuse.search(query);\r\n}\r\n","export const loadState = (version = 2.0) => {\r\n  try {\r\n    const serializedState = localStorage.getItem('state');\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n\r\n    const state = JSON.parse(serializedState);\r\n\r\n    // if(!state || !state.version || state.version < version) {\r\n    //   clearState();\r\n    //   return saveState({ version });\r\n    // }\r\n\r\n    return state;\r\n  } catch (err) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const saveState = (state) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem('state', serializedState);\r\n\r\n    return state;\r\n  } catch (err) {\r\n    // Ignore write errors.\r\n  }\r\n};\r\n\r\n\r\nexport const clearState = (state) => {\r\n  try {\r\n    localStorage.setItem('state', {});\r\n  } catch(err) {\r\n\r\n  }\r\n}\r\n","import moment from 'moment';\r\nimport _ from 'lodash';\r\n\r\nexport const getEorzeaTime = () => {\r\n  const eorzeaMultipler = (3600 / 175) * 1000;\r\n  const universalTime = moment().unix();\r\n\r\n  return universalTime * eorzeaMultipler;\r\n}\r\n\r\nexport const setTime = () => {\r\n  var eorzeaTime = getEorzeaTime(),\r\n      result = moment.utc(eorzeaTime);\r\n\r\n    return {\r\n        'time': result.format('h:mm A'),\r\n        'meridiem': result.format('A'),\r\n        'hour': parseFloat(result.format('H')),\r\n        'minute': parseFloat(result.format('m'))\r\n    };\r\n};\r\n\r\nexport const getEarthDurationfromEorzean = (stringDuration) => {\r\n    // 175 earth seconds = 3600 eorzean seconds (1 hour)\r\n    var time = {\r\n            hours: parseFloat(stringDuration.split(':')[0]),\r\n            minutes: parseFloat(stringDuration.split(':')[1])\r\n        },\r\n        totalMins = (time.hours * 60) + time.minutes,\r\n        totalSeconds = totalMins * 60;\r\n\r\n    // how many multiples of 175 (eorz hours) we have.\r\n    var earthUnits = totalSeconds / 3600;\r\n\r\n    var totalEarthSeconds = earthUnits * 175,\r\n        minutes = Math.floor(totalEarthSeconds / 60),\r\n        hours = Math.floor(minutes / 60),\r\n        seconds = Math.ceil(((totalEarthSeconds / 60) - minutes) * 60);\r\n\r\n    if (minutes > 60) {\r\n        var diff = Math.floor(minutes / 60);\r\n        minutes = minutes - (diff * 60);\r\n    }\r\n\r\n    return {\r\n        hours: hours,\r\n        minutes: minutes,\r\n        seconds: seconds\r\n    };\r\n};\r\n\r\n/**\r\n *   Expects two string times with meridien,\r\n *   IE: 8:00 AM, 7:00 PM\r\n *   B will be compared against A, like in subtraction.\r\n *   ex1: A: 12:00 AM B: 11:00 PM = 23 hour difference.\r\n *   ex2: A: 11:00 PM B: 12:00 AM = 1 hour difference.\r\n */\r\nexport const getTimeDifference = (a, b) => {\r\n    let hours = 0,\r\n        minutes = 0,\r\n        times = {};\r\n\r\n    _.each([a, b], function(time, idx) {\r\n        times[idx] = getTimeObjFromString(time);\r\n    });\r\n\r\n    let timeA, timeB, diff;\r\n\r\n    timeA = (times[0].hour * 60) + times[0].minute;\r\n    timeB = (times[1].hour * 60) + times[1].minute;\r\n\r\n    diff = timeB - timeA;\r\n\r\n    hours = Math.floor(diff / 60);\r\n    minutes = diff - (hours * 60);\r\n\r\n    if(hours < 0) {\r\n        hours = hours + 24;\r\n    }\r\n\r\n    return {\r\n        hours: hours,\r\n        minutes: minutes\r\n    };\r\n};\r\n\r\n// Expects a string format: 12:00 AM\r\nexport const getTimeRemaining = (nodeTime, duration, currTime) => {\r\n    let endTime = getEndTimeFromDuration(nodeTime, duration);\r\n\r\n    return getTimeDifference(currTime, endTime);\r\n}\r\n\r\n// Expects a string format: 12:00 AM\r\n// Best used for active nodes.\r\nexport const getEarthTimeRemaining = (nodeTime, duration, currTime) => {\r\n    let endTime = getEndTimeFromDuration(nodeTime, duration),\r\n        diff = getTimeDifference(currTime, endTime),\r\n        durStr = getDurationStringFromObject(diff);\r\n\r\n    return getEarthDurationfromEorzean(durStr);\r\n}\r\n\r\nexport const getTimeUntil = (nodeTime, currTime) => {\r\n  return getTimeDifference(currTime, nodeTime)\r\n}\r\n\r\n// Expects string formats: 12:00 AM\r\n// Best used for inactive (upcoming) nodes\r\nexport const getEarthTimeUntil = (nodeTime, currTime) => {\r\n  if(!nodeTime || !currTime || !_.isString(nodeTime) || !_.isString(currTime)) {\r\n    return console.error('getEarthTimeUntil expects 2 arguments <string:time>; ie \"12:00 AM\", \"2:00 PM\"');\r\n  }\r\n\r\n  const startUntil = getTimeDifference(currTime, nodeTime);\r\n  const durStr = getDurationStringFromObject(startUntil);\r\n\r\n  return getEarthDurationfromEorzean(durStr)\r\n}\r\n\r\n// Expects format: 12:00 AM\r\nexport const getTimeObjFromString = (stringTime) => {\r\n    if(!stringTime || !_.isString(stringTime) ) {\r\n      return console.error('getTimeObjFromString expects 1 arguments <string:time>; ie \"12:00 AM\"');\r\n    }\r\n\r\n    let time = stringTime,\r\n        isAM = time.indexOf('AM') > -1,\r\n        hour = parseFloat(time.split(' ')[0].split(':')[0]);\r\n\r\n    if (isAM && hour === 12) {\r\n        hour = 0;\r\n    } else if (!isAM && hour !== 12) {\r\n        hour += 12;\r\n    }\r\n\r\n    return {\r\n        hour: hour,\r\n        minute: parseFloat(time.split(' ')[0].split(':')[1])\r\n    };\r\n};\r\n\r\n// Expect object formatted from getTimeObjFromString\r\nexport const getTimeStringFromObject = (timeObj) => {\r\n    let hour = timeObj.hour,\r\n        minute = timeObj.minute,\r\n        meridien = 'AM';\r\n\r\n    if (hour > 12) {\r\n        meridien = 'PM';\r\n        hour = hour - 12;\r\n    } else if(hour === 12) {\r\n        meridien = 'PM';\r\n    }\r\n\r\n    minute = minute < 10 ? '0' + minute : minute;\r\n\r\n    return hour + ':' + minute + ' ' + meridien;\r\n};\r\n\r\nexport const getTimeStringFromDuration = (stringStartTime, stringDuration) => {\r\n    if(!stringStartTime || !stringDuration || !_.isString(stringDuration) || !_.isString(stringStartTime) ) {\r\n      return console.error('getTimeStringFromDuration expects 2 arguments <string:time>; ie \"12:00 AM\"');\r\n    }\r\n\r\n    let startTime = getTimeObjFromString(stringStartTime),\r\n        duration = {\r\n            hour: parseFloat(stringDuration.split(':')[0]),\r\n            minute: parseFloat(stringDuration.split(':')[1])\r\n        },\r\n        end = {};\r\n\r\n    let hour = startTime.hour + duration.hour,\r\n        minute = startTime.minute + duration.minute;\r\n\r\n    if (minute > 60) {\r\n        hour++;\r\n        minute -= 60;\r\n    }\r\n\r\n    if (hour > 24) {\r\n        hour -= 24;\r\n    }\r\n\r\n    if (hour > 12) {\r\n        hour -= 12;\r\n        end.meridien = 'PM';\r\n    } else {\r\n        end.meridien = 'AM';\r\n    }\r\n\r\n    end.hour = hour;\r\n    end.minute = minute < 10 ? '0' + minute : minute;\r\n\r\n    return end.hour + ':' + end.minute + ' ' + end.meridien;\r\n};\r\n\r\nexport const getDurationObjFromString = (duration) => {\r\n    let hours = parseFloat(duration.split(':')[0]),\r\n        mins = parseFloat(duration.split(':')[1]);\r\n\r\n    return {\r\n        hours: hours,\r\n        minutes: mins\r\n    };\r\n};\r\n\r\nexport const getDurationStringFromObject = (durationObj) => {\r\n    let hours = durationObj.hours,\r\n        mins = durationObj.minutes;\r\n\r\n    if(mins < 10) {\r\n        mins = '0' + mins.toString()\r\n    }\r\n\r\n    return hours + ':' + mins;\r\n};\r\n\r\nexport const getEndTimeFromDuration = (startTime, duration) => {\r\n    let startObj = getTimeObjFromString(startTime),\r\n        durationObj = getDurationObjFromString(duration),\r\n        endObj = {\r\n            hour: startObj.hour + durationObj.hours,\r\n            minute: startObj.minute + durationObj.minutes\r\n        };\r\n\r\n    if(endObj.minute >= 60) {\r\n        endObj.hour += 1;\r\n        endObj.minute -= 60;\r\n    }\r\n\r\n    if(endObj.hour >= 24) {\r\n        endObj.hour -= 24;\r\n    }\r\n\r\n    return getTimeStringFromObject(endObj);\r\n};\r\n\r\nexport const isActive = (currentTime, startTime, duration) => {\r\n    let endTime = getEndTimeFromDuration(startTime, duration),\r\n        startTimeDiff = getTimeDifference(currentTime, startTime),\r\n        endTimeDiff = getTimeDifference(currentTime, endTime),\r\n        durationObj = getDurationObjFromString(duration),\r\n        result = false;\r\n\r\n    let startTimeDiffMins = (startTimeDiff.hours * 60) + startTimeDiff.minutes,\r\n        endTimeDiffMins = (endTimeDiff.hours * 60) + endTimeDiff.minutes,\r\n        durationMins = (durationObj.hours * 60) + durationObj.minutes;\r\n\r\n    if(endTimeDiffMins < durationMins) {\r\n        result = true;\r\n    }\r\n\r\n    return result;\r\n};\r\n"]}